ARM GAS  /tmp/ccZB4POl.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 4
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"stm32f7xx_ll_usb.c"
  13              		.text
  14              		.section	.text.USB_CoreReset,"ax",%progbits
  15              		.align	1
  16              		.arch armv7e-m
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu fpv5-sp-d16
  22              	USB_CoreReset:
  23              		@ args = 0, pretend = 0, frame = 8
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 82B0     		sub	sp, sp, #8
  27 0002 0023     		movs	r3, #0
  28 0004 104A     		ldr	r2, .L8
  29 0006 0193     		str	r3, [sp, #4]
  30              	.L3:
  31 0008 019B     		ldr	r3, [sp, #4]
  32 000a 0133     		adds	r3, r3, #1
  33 000c 0193     		str	r3, [sp, #4]
  34 000e 019B     		ldr	r3, [sp, #4]
  35 0010 9342     		cmp	r3, r2
  36 0012 16D8     		bhi	.L2
  37 0014 0369     		ldr	r3, [r0, #16]
  38 0016 002B     		cmp	r3, #0
  39 0018 F6DA     		bge	.L3
  40 001a 0023     		movs	r3, #0
  41 001c 0A4A     		ldr	r2, .L8
  42 001e 0193     		str	r3, [sp, #4]
  43 0020 0369     		ldr	r3, [r0, #16]
  44 0022 43F00103 		orr	r3, r3, #1
  45 0026 0361     		str	r3, [r0, #16]
  46              	.L4:
  47 0028 019B     		ldr	r3, [sp, #4]
  48 002a 0133     		adds	r3, r3, #1
  49 002c 0193     		str	r3, [sp, #4]
  50 002e 019B     		ldr	r3, [sp, #4]
  51 0030 9342     		cmp	r3, r2
  52 0032 06D8     		bhi	.L2
  53 0034 0369     		ldr	r3, [r0, #16]
  54 0036 13F00103 		ands	r3, r3, #1
  55 003a F5D1     		bne	.L4
  56 003c 1846     		mov	r0, r3
  57              	.L5:
  58 003e 02B0     		add	sp, sp, #8
ARM GAS  /tmp/ccZB4POl.s 			page 2


  59              		@ sp needed
  60 0040 7047     		bx	lr
  61              	.L2:
  62 0042 0320     		movs	r0, #3
  63 0044 FBE7     		b	.L5
  64              	.L9:
  65 0046 00BF     		.align	2
  66              	.L8:
  67 0048 400D0300 		.word	200000
  69              		.section	.text.USB_CoreInit,"ax",%progbits
  70              		.align	1
  71              		.global	USB_CoreInit
  72              		.syntax unified
  73              		.thumb
  74              		.thumb_func
  75              		.fpu fpv5-sp-d16
  77              	USB_CoreInit:
  78              		@ args = 56, pretend = 16, frame = 8
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80 0000 84B0     		sub	sp, sp, #16
  81 0002 37B5     		push	{r0, r1, r2, r4, r5, lr}
  82 0004 07AD     		add	r5, sp, #28
  83 0006 0446     		mov	r4, r0
  84 0008 85E80E00 		stm	r5, {r1, r2, r3}
  85 000c 0C9B     		ldr	r3, [sp, #48]
  86 000e 139D     		ldr	r5, [sp, #76]
  87 0010 012B     		cmp	r3, #1
  88 0012 2AD1     		bne	.L11
  89 0014 836B     		ldr	r3, [r0, #56]
  90 0016 23F48033 		bic	r3, r3, #65536
  91 001a 8363     		str	r3, [r0, #56]
  92 001c C368     		ldr	r3, [r0, #12]
  93 001e 23F48403 		bic	r3, r3, #4325376
  94 0022 23F04003 		bic	r3, r3, #64
  95 0026 C360     		str	r3, [r0, #12]
  96 0028 C368     		ldr	r3, [r0, #12]
  97 002a 43F01003 		orr	r3, r3, #16
  98 002e C360     		str	r3, [r0, #12]
  99 0030 C368     		ldr	r3, [r0, #12]
 100 0032 23F44013 		bic	r3, r3, #3145728
 101 0036 C360     		str	r3, [r0, #12]
 102              	.L22:
 103 0038 012D     		cmp	r5, #1
 104 003a 03D1     		bne	.L18
 105 003c E368     		ldr	r3, [r4, #12]
 106 003e 43F48013 		orr	r3, r3, #1048576
 107 0042 E360     		str	r3, [r4, #12]
 108              	.L18:
 109 0044 2046     		mov	r0, r4
 110 0046 FFF7FEFF 		bl	USB_CoreReset
 111              	.L13:
 112 004a 0A9B     		ldr	r3, [sp, #40]
 113 004c 012B     		cmp	r3, #1
 114 004e 07D1     		bne	.L16
 115 0050 A368     		ldr	r3, [r4, #8]
 116 0052 43F00603 		orr	r3, r3, #6
 117 0056 A360     		str	r3, [r4, #8]
ARM GAS  /tmp/ccZB4POl.s 			page 3


 118 0058 A368     		ldr	r3, [r4, #8]
 119 005a 43F02003 		orr	r3, r3, #32
 120 005e A360     		str	r3, [r4, #8]
 121              	.L16:
 122 0060 03B0     		add	sp, sp, #12
 123              		@ sp needed
 124 0062 BDE83040 		pop	{r4, r5, lr}
 125 0066 04B0     		add	sp, sp, #16
 126 0068 7047     		bx	lr
 127              	.L11:
 128 006a 032B     		cmp	r3, #3
 129 006c 36D1     		bne	.L14
 130 006e 836B     		ldr	r3, [r0, #56]
 131 0070 2049     		ldr	r1, .L23
 132 0072 23F48033 		bic	r3, r3, #65536
 133 0076 8363     		str	r3, [r0, #56]
 134 0078 C368     		ldr	r3, [r0, #12]
 135 007a 23F48403 		bic	r3, r3, #4325376
 136 007e 23F04003 		bic	r3, r3, #64
 137 0082 C360     		str	r3, [r0, #12]
 138 0084 C368     		ldr	r3, [r0, #12]
 139 0086 23F44013 		bic	r3, r3, #3145728
 140 008a C360     		str	r3, [r0, #12]
 141 008c C368     		ldr	r3, [r0, #12]
 142 008e 23F01003 		bic	r3, r3, #16
 143 0092 C360     		str	r3, [r0, #12]
 144 0094 836B     		ldr	r3, [r0, #56]
 145 0096 43F40003 		orr	r3, r3, #8388608
 146 009a 8363     		str	r3, [r0, #56]
 147 009c 0023     		movs	r3, #0
 148 009e 0193     		str	r3, [sp, #4]
 149 00a0 154B     		ldr	r3, .L23+4
 150 00a2 9A69     		ldr	r2, [r3, #24]
 151 00a4 42F00402 		orr	r2, r2, #4
 152 00a8 9A61     		str	r2, [r3, #24]
 153              	.L15:
 154 00aa 9A69     		ldr	r2, [r3, #24]
 155 00ac 9207     		lsls	r2, r2, #30
 156 00ae 0DD5     		bpl	.L17
 157 00b0 DA68     		ldr	r2, [r3, #12]
 158 00b2 0220     		movs	r0, #2
 159 00b4 42F47162 		orr	r2, r2, #3856
 160 00b8 42F00302 		orr	r2, r2, #3
 161 00bc DA60     		str	r2, [r3, #12]
 162 00be 1A68     		ldr	r2, [r3]
 163 00c0 42F00102 		orr	r2, r2, #1
 164 00c4 1A60     		str	r2, [r3]
 165 00c6 FFF7FEFF 		bl	HAL_Delay
 166 00ca B5E7     		b	.L22
 167              	.L17:
 168 00cc 019A     		ldr	r2, [sp, #4]
 169 00ce 0132     		adds	r2, r2, #1
 170 00d0 0192     		str	r2, [sp, #4]
 171 00d2 019A     		ldr	r2, [sp, #4]
 172 00d4 8A42     		cmp	r2, r1
 173 00d6 E8D9     		bls	.L15
 174 00d8 0120     		movs	r0, #1
ARM GAS  /tmp/ccZB4POl.s 			page 4


 175 00da C1E7     		b	.L16
 176              	.L14:
 177 00dc C368     		ldr	r3, [r0, #12]
 178 00de 43F04003 		orr	r3, r3, #64
 179 00e2 C360     		str	r3, [r0, #12]
 180 00e4 FFF7FEFF 		bl	USB_CoreReset
 181 00e8 A36B     		ldr	r3, [r4, #56]
 182 00ea 43F48033 		orr	r3, r3, #65536
 183 00ee A363     		str	r3, [r4, #56]
 184 00f0 ABE7     		b	.L13
 185              	.L24:
 186 00f2 00BF     		.align	2
 187              	.L23:
 188 00f4 400D0300 		.word	200000
 189 00f8 007C0140 		.word	1073839104
 191              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 192              		.align	1
 193              		.global	USB_SetTurnaroundTime
 194              		.syntax unified
 195              		.thumb
 196              		.thumb_func
 197              		.fpu fpv5-sp-d16
 199              	USB_SetTurnaroundTime:
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              		@ link register save eliminated.
 203 0000 022A     		cmp	r2, #2
 204 0002 4AD1     		bne	.L34
 205 0004 274B     		ldr	r3, .L37
 206 0006 284A     		ldr	r2, .L37+4
 207 0008 0B44     		add	r3, r3, r1
 208 000a 9342     		cmp	r3, r2
 209 000c 39D9     		bls	.L28
 210 000e 274B     		ldr	r3, .L37+8
 211 0010 274A     		ldr	r2, .L37+12
 212 0012 0B44     		add	r3, r3, r1
 213 0014 9342     		cmp	r3, r2
 214 0016 36D9     		bls	.L29
 215 0018 A1F57403 		sub	r3, r1, #15990784
 216 001c 254A     		ldr	r2, .L37+16
 217 001e A3F51053 		sub	r3, r3, #9216
 218 0022 9342     		cmp	r3, r2
 219 0024 31D9     		bls	.L30
 220 0026 A1F18373 		sub	r3, r1, #17170432
 221 002a 234A     		ldr	r2, .L37+20
 222 002c A3F5E743 		sub	r3, r3, #29568
 223 0030 9342     		cmp	r3, r2
 224 0032 2CD3     		bcc	.L31
 225 0034 214B     		ldr	r3, .L37+24
 226 0036 224A     		ldr	r2, .L37+28
 227 0038 0B44     		add	r3, r3, r1
 228 003a 9342     		cmp	r3, r2
 229 003c 29D9     		bls	.L32
 230 003e 214B     		ldr	r3, .L37+32
 231 0040 214A     		ldr	r2, .L37+36
 232 0042 0B44     		add	r3, r3, r1
 233 0044 9342     		cmp	r3, r2
ARM GAS  /tmp/ccZB4POl.s 			page 5


 234 0046 26D3     		bcc	.L33
 235 0048 204B     		ldr	r3, .L37+40
 236 004a 214A     		ldr	r2, .L37+44
 237 004c 0B44     		add	r3, r3, r1
 238 004e 9342     		cmp	r3, r2
 239 0050 23D3     		bcc	.L34
 240 0052 A1F1B773 		sub	r3, r1, #23986176
 241 0056 1F4A     		ldr	r2, .L37+48
 242 0058 A3F55853 		sub	r3, r3, #13824
 243 005c 9342     		cmp	r3, r2
 244 005e 1ED3     		bcc	.L35
 245 0060 1D4B     		ldr	r3, .L37+52
 246 0062 1E4A     		ldr	r2, .L37+56
 247 0064 0B44     		add	r3, r3, r1
 248 0066 9342     		cmp	r3, r2
 249 0068 34BF     		ite	cc
 250 006a 0723     		movcc	r3, #7
 251 006c 0623     		movcs	r3, #6
 252              	.L26:
 253 006e C268     		ldr	r2, [r0, #12]
 254 0070 22F47052 		bic	r2, r2, #15360
 255 0074 C260     		str	r2, [r0, #12]
 256 0076 C268     		ldr	r2, [r0, #12]
 257 0078 42EA8323 		orr	r3, r2, r3, lsl #10
 258 007c C360     		str	r3, [r0, #12]
 259 007e 0020     		movs	r0, #0
 260 0080 7047     		bx	lr
 261              	.L28:
 262 0082 0F23     		movs	r3, #15
 263 0084 F3E7     		b	.L26
 264              	.L29:
 265 0086 0E23     		movs	r3, #14
 266 0088 F1E7     		b	.L26
 267              	.L30:
 268 008a 0D23     		movs	r3, #13
 269 008c EFE7     		b	.L26
 270              	.L31:
 271 008e 0C23     		movs	r3, #12
 272 0090 EDE7     		b	.L26
 273              	.L32:
 274 0092 0B23     		movs	r3, #11
 275 0094 EBE7     		b	.L26
 276              	.L33:
 277 0096 0A23     		movs	r3, #10
 278 0098 E9E7     		b	.L26
 279              	.L34:
 280 009a 0923     		movs	r3, #9
 281 009c E7E7     		b	.L26
 282              	.L35:
 283 009e 0823     		movs	r3, #8
 284 00a0 E5E7     		b	.L26
 285              	.L38:
 286 00a2 00BF     		.align	2
 287              	.L37:
 288 00a4 405327FF 		.word	-14200000
 289 00a8 FF340C00 		.word	799999
 290 00ac 401E1BFF 		.word	-15000000
ARM GAS  /tmp/ccZB4POl.s 			page 6


 291 00b0 3F420F00 		.word	999999
 292 00b4 7F4F1200 		.word	1199999
 293 00b8 20D61300 		.word	1300000
 294 00bc 60B6E5FE 		.word	-18500000
 295 00c0 5FE31600 		.word	1499999
 296 00c4 00D3CEFE 		.word	-20000000
 297 00c8 40771B00 		.word	1800000
 298 00cc C05BB3FE 		.word	-21800000
 299 00d0 C0912100 		.word	2200000
 300 00d4 20753800 		.word	3700000
 301 00d8 E05459FE 		.word	-27700000
 302 00dc E09C4100 		.word	4300000
 304              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 305              		.align	1
 306              		.global	USB_EnableGlobalInt
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 310              		.fpu fpv5-sp-d16
 312              	USB_EnableGlobalInt:
 313              		@ args = 0, pretend = 0, frame = 0
 314              		@ frame_needed = 0, uses_anonymous_args = 0
 315              		@ link register save eliminated.
 316 0000 8368     		ldr	r3, [r0, #8]
 317 0002 43F00103 		orr	r3, r3, #1
 318 0006 8360     		str	r3, [r0, #8]
 319 0008 0020     		movs	r0, #0
 320 000a 7047     		bx	lr
 322              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 323              		.align	1
 324              		.global	USB_DisableGlobalInt
 325              		.syntax unified
 326              		.thumb
 327              		.thumb_func
 328              		.fpu fpv5-sp-d16
 330              	USB_DisableGlobalInt:
 331              		@ args = 0, pretend = 0, frame = 0
 332              		@ frame_needed = 0, uses_anonymous_args = 0
 333              		@ link register save eliminated.
 334 0000 8368     		ldr	r3, [r0, #8]
 335 0002 23F00103 		bic	r3, r3, #1
 336 0006 8360     		str	r3, [r0, #8]
 337 0008 0020     		movs	r0, #0
 338 000a 7047     		bx	lr
 340              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 341              		.align	1
 342              		.global	USB_SetCurrentMode
 343              		.syntax unified
 344              		.thumb
 345              		.thumb_func
 346              		.fpu fpv5-sp-d16
 348              	USB_SetCurrentMode:
 349              		@ args = 0, pretend = 0, frame = 0
 350              		@ frame_needed = 0, uses_anonymous_args = 0
 351 0000 38B5     		push	{r3, r4, r5, lr}
 352 0002 C368     		ldr	r3, [r0, #12]
 353 0004 0129     		cmp	r1, #1
ARM GAS  /tmp/ccZB4POl.s 			page 7


 354 0006 0546     		mov	r5, r0
 355 0008 23F0C043 		bic	r3, r3, #1610612736
 356 000c C360     		str	r3, [r0, #12]
 357 000e 0FD1     		bne	.L42
 358 0010 C368     		ldr	r3, [r0, #12]
 359 0012 0024     		movs	r4, #0
 360 0014 43F00053 		orr	r3, r3, #536870912
 361 0018 C360     		str	r3, [r0, #12]
 362              	.L44:
 363 001a 0120     		movs	r0, #1
 364 001c 0134     		adds	r4, r4, #1
 365 001e FFF7FEFF 		bl	HAL_Delay
 366 0022 6B69     		ldr	r3, [r5, #20]
 367 0024 D907     		lsls	r1, r3, #31
 368 0026 14D4     		bmi	.L43
 369 0028 322C     		cmp	r4, #50
 370 002a F6D1     		bne	.L44
 371              	.L46:
 372 002c 0120     		movs	r0, #1
 373              	.L45:
 374 002e 38BD     		pop	{r3, r4, r5, pc}
 375              	.L42:
 376 0030 0029     		cmp	r1, #0
 377 0032 FBD1     		bne	.L46
 378 0034 C368     		ldr	r3, [r0, #12]
 379 0036 0C46     		mov	r4, r1
 380 0038 43F08043 		orr	r3, r3, #1073741824
 381 003c C360     		str	r3, [r0, #12]
 382              	.L47:
 383 003e 0120     		movs	r0, #1
 384 0040 0134     		adds	r4, r4, #1
 385 0042 FFF7FEFF 		bl	HAL_Delay
 386 0046 6B69     		ldr	r3, [r5, #20]
 387 0048 DA07     		lsls	r2, r3, #31
 388 004a 02D5     		bpl	.L43
 389 004c 322C     		cmp	r4, #50
 390 004e F6D1     		bne	.L47
 391 0050 ECE7     		b	.L46
 392              	.L43:
 393 0052 A4F13203 		sub	r3, r4, #50
 394 0056 5842     		rsbs	r0, r3, #0
 395 0058 5841     		adcs	r0, r0, r3
 396 005a E8E7     		b	.L45
 398              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 399              		.align	1
 400              		.global	USB_FlushTxFifo
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 404              		.fpu fpv5-sp-d16
 406              	USB_FlushTxFifo:
 407              		@ args = 0, pretend = 0, frame = 8
 408              		@ frame_needed = 0, uses_anonymous_args = 0
 409              		@ link register save eliminated.
 410 0000 82B0     		sub	sp, sp, #8
 411 0002 0023     		movs	r3, #0
 412 0004 104A     		ldr	r2, .L60
ARM GAS  /tmp/ccZB4POl.s 			page 8


 413 0006 0193     		str	r3, [sp, #4]
 414              	.L55:
 415 0008 019B     		ldr	r3, [sp, #4]
 416 000a 0133     		adds	r3, r3, #1
 417 000c 0193     		str	r3, [sp, #4]
 418 000e 019B     		ldr	r3, [sp, #4]
 419 0010 9342     		cmp	r3, r2
 420 0012 16D8     		bhi	.L54
 421 0014 0369     		ldr	r3, [r0, #16]
 422 0016 002B     		cmp	r3, #0
 423 0018 F6DA     		bge	.L55
 424 001a 8901     		lsls	r1, r1, #6
 425 001c 0023     		movs	r3, #0
 426 001e 0A4A     		ldr	r2, .L60
 427 0020 41F02001 		orr	r1, r1, #32
 428 0024 0193     		str	r3, [sp, #4]
 429 0026 0161     		str	r1, [r0, #16]
 430              	.L56:
 431 0028 019B     		ldr	r3, [sp, #4]
 432 002a 0133     		adds	r3, r3, #1
 433 002c 0193     		str	r3, [sp, #4]
 434 002e 019B     		ldr	r3, [sp, #4]
 435 0030 9342     		cmp	r3, r2
 436 0032 06D8     		bhi	.L54
 437 0034 0369     		ldr	r3, [r0, #16]
 438 0036 13F02003 		ands	r3, r3, #32
 439 003a F5D1     		bne	.L56
 440 003c 1846     		mov	r0, r3
 441              	.L57:
 442 003e 02B0     		add	sp, sp, #8
 443              		@ sp needed
 444 0040 7047     		bx	lr
 445              	.L54:
 446 0042 0320     		movs	r0, #3
 447 0044 FBE7     		b	.L57
 448              	.L61:
 449 0046 00BF     		.align	2
 450              	.L60:
 451 0048 400D0300 		.word	200000
 453              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 454              		.align	1
 455              		.global	USB_FlushRxFifo
 456              		.syntax unified
 457              		.thumb
 458              		.thumb_func
 459              		.fpu fpv5-sp-d16
 461              	USB_FlushRxFifo:
 462              		@ args = 0, pretend = 0, frame = 8
 463              		@ frame_needed = 0, uses_anonymous_args = 0
 464              		@ link register save eliminated.
 465 0000 82B0     		sub	sp, sp, #8
 466 0002 0023     		movs	r3, #0
 467 0004 0F4A     		ldr	r2, .L69
 468 0006 0193     		str	r3, [sp, #4]
 469              	.L64:
 470 0008 019B     		ldr	r3, [sp, #4]
 471 000a 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccZB4POl.s 			page 9


 472 000c 0193     		str	r3, [sp, #4]
 473 000e 019B     		ldr	r3, [sp, #4]
 474 0010 9342     		cmp	r3, r2
 475 0012 14D8     		bhi	.L63
 476 0014 0369     		ldr	r3, [r0, #16]
 477 0016 002B     		cmp	r3, #0
 478 0018 F6DA     		bge	.L64
 479 001a 0023     		movs	r3, #0
 480 001c 094A     		ldr	r2, .L69
 481 001e 0193     		str	r3, [sp, #4]
 482 0020 1023     		movs	r3, #16
 483 0022 0361     		str	r3, [r0, #16]
 484              	.L65:
 485 0024 019B     		ldr	r3, [sp, #4]
 486 0026 0133     		adds	r3, r3, #1
 487 0028 0193     		str	r3, [sp, #4]
 488 002a 019B     		ldr	r3, [sp, #4]
 489 002c 9342     		cmp	r3, r2
 490 002e 06D8     		bhi	.L63
 491 0030 0369     		ldr	r3, [r0, #16]
 492 0032 13F01003 		ands	r3, r3, #16
 493 0036 F5D1     		bne	.L65
 494 0038 1846     		mov	r0, r3
 495              	.L66:
 496 003a 02B0     		add	sp, sp, #8
 497              		@ sp needed
 498 003c 7047     		bx	lr
 499              	.L63:
 500 003e 0320     		movs	r0, #3
 501 0040 FBE7     		b	.L66
 502              	.L70:
 503 0042 00BF     		.align	2
 504              	.L69:
 505 0044 400D0300 		.word	200000
 507              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 508              		.align	1
 509              		.global	USB_SetDevSpeed
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 513              		.fpu fpv5-sp-d16
 515              	USB_SetDevSpeed:
 516              		@ args = 0, pretend = 0, frame = 0
 517              		@ frame_needed = 0, uses_anonymous_args = 0
 518              		@ link register save eliminated.
 519 0000 D0F80038 		ldr	r3, [r0, #2048]
 520 0004 1943     		orrs	r1, r1, r3
 521 0006 C0F80018 		str	r1, [r0, #2048]
 522 000a 0020     		movs	r0, #0
 523 000c 7047     		bx	lr
 525              		.section	.text.USB_DevInit,"ax",%progbits
 526              		.align	1
 527              		.global	USB_DevInit
 528              		.syntax unified
 529              		.thumb
 530              		.thumb_func
 531              		.fpu fpv5-sp-d16
ARM GAS  /tmp/ccZB4POl.s 			page 10


 533              	USB_DevInit:
 534              		@ args = 56, pretend = 16, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
 536 0000 84B0     		sub	sp, sp, #16
 537 0002 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 538 0006 0446     		mov	r4, r0
 539 0008 09A8     		add	r0, sp, #36
 540 000a 0E46     		mov	r6, r1
 541 000c 139D     		ldr	r5, [sp, #76]
 542 000e 80E80E00 		stm	r0, {r1, r2, r3}
 543 0012 1A46     		mov	r2, r3
 544 0014 0023     		movs	r3, #0
 545 0016 0E99     		ldr	r1, [sp, #56]
 546 0018 1F46     		mov	r7, r3
 547              	.L73:
 548 001a 03F14000 		add	r0, r3, #64
 549 001e 0133     		adds	r3, r3, #1
 550 0020 04EB8000 		add	r0, r4, r0, lsl #2
 551 0024 0F2B     		cmp	r3, #15
 552 0026 4760     		str	r7, [r0, #4]
 553 0028 F7D1     		bne	.L73
 554 002a 04F50067 		add	r7, r4, #2048
 555 002e 002D     		cmp	r5, #0
 556 0030 6BD1     		bne	.L74
 557 0032 7B68     		ldr	r3, [r7, #4]
 558 0034 43F00203 		orr	r3, r3, #2
 559 0038 7B60     		str	r3, [r7, #4]
 560 003a A36B     		ldr	r3, [r4, #56]
 561 003c 23F40013 		bic	r3, r3, #2097152
 562 0040 A363     		str	r3, [r4, #56]
 563 0042 2368     		ldr	r3, [r4]
 564 0044 43F04003 		orr	r3, r3, #64
 565 0048 2360     		str	r3, [r4]
 566 004a 2368     		ldr	r3, [r4]
 567 004c 43F08003 		orr	r3, r3, #128
 568 0050 2360     		str	r3, [r4]
 569              	.L75:
 570 0052 0023     		movs	r3, #0
 571 0054 0129     		cmp	r1, #1
 572 0056 C4F8003E 		str	r3, [r4, #3584]
 573 005a D4F80038 		ldr	r3, [r4, #2048]
 574 005e C4F80038 		str	r3, [r4, #2048]
 575 0062 59D1     		bne	.L76
 576              	.L101:
 577 0064 002A     		cmp	r2, #0
 578 0066 55D1     		bne	.L77
 579 0068 0021     		movs	r1, #0
 580              	.L102:
 581 006a 2046     		mov	r0, r4
 582 006c 4FF67F38 		movw	r8, #64383
 583 0070 FFF7FEFF 		bl	USB_SetDevSpeed
 584 0074 1021     		movs	r1, #16
 585 0076 2046     		mov	r0, r4
 586 0078 FFF7FEFF 		bl	USB_FlushTxFifo
 587 007c 0146     		mov	r1, r0
 588 007e 2046     		mov	r0, r4
 589 0080 FFF7FEFF 		bl	USB_FlushRxFifo
ARM GAS  /tmp/ccZB4POl.s 			page 11


 590 0084 0843     		orrs	r0, r0, r1
 591 0086 0023     		movs	r3, #0
 592 0088 04F51062 		add	r2, r4, #2304
 593 008c C0B2     		uxtb	r0, r0
 594 008e 4FF0904C 		mov	ip, #1207959552
 595 0092 1946     		mov	r1, r3
 596 0094 4FF0006E 		mov	lr, #134217728
 597 0098 0038     		subs	r0, r0, #0
 598 009a 3B61     		str	r3, [r7, #16]
 599 009c 7B61     		str	r3, [r7, #20]
 600 009e 18BF     		it	ne
 601 00a0 0120     		movne	r0, #1
 602 00a2 FB61     		str	r3, [r7, #28]
 603              	.L81:
 604 00a4 B342     		cmp	r3, r6
 605 00a6 3BD1     		bne	.L85
 606 00a8 0022     		movs	r2, #0
 607 00aa 04F53063 		add	r3, r4, #2816
 608 00ae 4FF0904C 		mov	ip, #1207959552
 609 00b2 4FF0006E 		mov	lr, #134217728
 610 00b6 1146     		mov	r1, r2
 611 00b8 4FF67F38 		movw	r8, #64383
 612              	.L86:
 613 00bc B242     		cmp	r2, r6
 614 00be 42D1     		bne	.L90
 615 00c0 3B69     		ldr	r3, [r7, #16]
 616 00c2 23F48073 		bic	r3, r3, #256
 617 00c6 3B61     		str	r3, [r7, #16]
 618 00c8 0023     		movs	r3, #0
 619 00ca A361     		str	r3, [r4, #24]
 620 00cc 6FF08043 		mvn	r3, #1073741824
 621 00d0 6361     		str	r3, [r4, #20]
 622 00d2 0C9B     		ldr	r3, [sp, #48]
 623 00d4 1BB9     		cbnz	r3, .L91
 624 00d6 A369     		ldr	r3, [r4, #24]
 625 00d8 43F01003 		orr	r3, r3, #16
 626 00dc A361     		str	r3, [r4, #24]
 627              	.L91:
 628 00de A269     		ldr	r2, [r4, #24]
 629 00e0 224B     		ldr	r3, .L103
 630 00e2 1343     		orrs	r3, r3, r2
 631 00e4 A361     		str	r3, [r4, #24]
 632 00e6 0F9B     		ldr	r3, [sp, #60]
 633 00e8 1BB1     		cbz	r3, .L92
 634 00ea A369     		ldr	r3, [r4, #24]
 635 00ec 43F00803 		orr	r3, r3, #8
 636 00f0 A361     		str	r3, [r4, #24]
 637              	.L92:
 638 00f2 012D     		cmp	r5, #1
 639 00f4 05D1     		bne	.L93
 640 00f6 A369     		ldr	r3, [r4, #24]
 641 00f8 43F08043 		orr	r3, r3, #1073741824
 642 00fc 43F00403 		orr	r3, r3, #4
 643 0100 A361     		str	r3, [r4, #24]
 644              	.L93:
 645 0102 BDE8F843 		pop	{r3, r4, r5, r6, r7, r8, r9, lr}
 646 0106 04B0     		add	sp, sp, #16
ARM GAS  /tmp/ccZB4POl.s 			page 12


 647 0108 7047     		bx	lr
 648              	.L74:
 649 010a A36B     		ldr	r3, [r4, #56]
 650 010c 43F40013 		orr	r3, r3, #2097152
 651 0110 A363     		str	r3, [r4, #56]
 652 0112 9EE7     		b	.L75
 653              	.L77:
 654 0114 0121     		movs	r1, #1
 655 0116 A8E7     		b	.L102
 656              	.L76:
 657 0118 0329     		cmp	r1, #3
 658 011a A3D0     		beq	.L101
 659 011c 0321     		movs	r1, #3
 660 011e A4E7     		b	.L102
 661              	.L85:
 662 0120 D2F80090 		ldr	r9, [r2]
 663 0124 B9F1000F 		cmp	r9, #0
 664 0128 0BDA     		bge	.L82
 665 012a 3BB9     		cbnz	r3, .L83
 666 012c C2F800E0 		str	lr, [r2]
 667              	.L84:
 668 0130 1161     		str	r1, [r2, #16]
 669 0132 0133     		adds	r3, r3, #1
 670 0134 C2F80880 		str	r8, [r2, #8]
 671 0138 2032     		adds	r2, r2, #32
 672 013a B3E7     		b	.L81
 673              	.L83:
 674 013c C2F800C0 		str	ip, [r2]
 675 0140 F6E7     		b	.L84
 676              	.L82:
 677 0142 1160     		str	r1, [r2]
 678 0144 F4E7     		b	.L84
 679              	.L90:
 680 0146 D3F80090 		ldr	r9, [r3]
 681 014a B9F1000F 		cmp	r9, #0
 682 014e 0BDA     		bge	.L87
 683 0150 3AB9     		cbnz	r2, .L88
 684 0152 C3F800E0 		str	lr, [r3]
 685              	.L89:
 686 0156 1961     		str	r1, [r3, #16]
 687 0158 0132     		adds	r2, r2, #1
 688 015a C3F80880 		str	r8, [r3, #8]
 689 015e 2033     		adds	r3, r3, #32
 690 0160 ACE7     		b	.L86
 691              	.L88:
 692 0162 C3F800C0 		str	ip, [r3]
 693 0166 F6E7     		b	.L89
 694              	.L87:
 695 0168 1960     		str	r1, [r3]
 696 016a F4E7     		b	.L89
 697              	.L104:
 698              		.align	2
 699              	.L103:
 700 016c 00383C80 		.word	-2143537152
 702              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 703              		.align	1
 704              		.global	USB_GetDevSpeed
ARM GAS  /tmp/ccZB4POl.s 			page 13


 705              		.syntax unified
 706              		.thumb
 707              		.thumb_func
 708              		.fpu fpv5-sp-d16
 710              	USB_GetDevSpeed:
 711              		@ args = 0, pretend = 0, frame = 0
 712              		@ frame_needed = 0, uses_anonymous_args = 0
 713              		@ link register save eliminated.
 714 0000 D0F80838 		ldr	r3, [r0, #2056]
 715 0004 13F00600 		ands	r0, r3, #6
 716 0008 04D0     		beq	.L106
 717 000a 13F0020F 		tst	r3, #2
 718 000e 14BF     		ite	ne
 719 0010 0220     		movne	r0, #2
 720 0012 0F20     		moveq	r0, #15
 721              	.L106:
 722 0014 7047     		bx	lr
 724              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 725              		.align	1
 726              		.global	USB_ActivateEndpoint
 727              		.syntax unified
 728              		.thumb
 729              		.thumb_func
 730              		.fpu fpv5-sp-d16
 732              	USB_ActivateEndpoint:
 733              		@ args = 0, pretend = 0, frame = 0
 734              		@ frame_needed = 0, uses_anonymous_args = 0
 735 0000 30B5     		push	{r4, r5, lr}
 736 0002 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 737 0004 0124     		movs	r4, #1
 738 0006 00F50062 		add	r2, r0, #2048
 739 000a 05F00F03 		and	r3, r5, #15
 740 000e 00EB4510 		add	r0, r0, r5, lsl #5
 741 0012 9C40     		lsls	r4, r4, r3
 742 0014 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 743 0016 012B     		cmp	r3, #1
 744 0018 D369     		ldr	r3, [r2, #28]
 745 001a 18D1     		bne	.L110
 746 001c 1C43     		orrs	r4, r4, r3
 747 001e D461     		str	r4, [r2, #28]
 748 0020 D0F80039 		ldr	r3, [r0, #2304]
 749 0024 1A04     		lsls	r2, r3, #16
 750 0026 10D4     		bmi	.L112
 751 0028 CA68     		ldr	r2, [r1, #12]
 752 002a D0F80049 		ldr	r4, [r0, #2304]
 753 002e C2F30A03 		ubfx	r3, r2, #0, #11
 754 0032 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 755 0034 2343     		orrs	r3, r3, r4
 756 0036 43EA8243 		orr	r3, r3, r2, lsl #18
 757 003a 43EA8553 		orr	r3, r3, r5, lsl #22
 758 003e 43F08053 		orr	r3, r3, #268435456
 759 0042 43F40043 		orr	r3, r3, #32768
 760 0046 C0F80039 		str	r3, [r0, #2304]
 761              	.L112:
 762 004a 0020     		movs	r0, #0
 763 004c 30BD     		pop	{r4, r5, pc}
 764              	.L110:
ARM GAS  /tmp/ccZB4POl.s 			page 14


 765 004e 43EA0444 		orr	r4, r3, r4, lsl #16
 766 0052 D461     		str	r4, [r2, #28]
 767 0054 D0F8003B 		ldr	r3, [r0, #2816]
 768 0058 1B04     		lsls	r3, r3, #16
 769 005a F6D4     		bmi	.L112
 770 005c CB68     		ldr	r3, [r1, #12]
 771 005e D0F8002B 		ldr	r2, [r0, #2816]
 772 0062 C3F30A03 		ubfx	r3, r3, #0, #11
 773 0066 1343     		orrs	r3, r3, r2
 774 0068 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 775 006a 43EA8243 		orr	r3, r3, r2, lsl #18
 776 006e 43F08053 		orr	r3, r3, #268435456
 777 0072 43F40043 		orr	r3, r3, #32768
 778 0076 C0F8003B 		str	r3, [r0, #2816]
 779 007a E6E7     		b	.L112
 781              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 782              		.align	1
 783              		.global	USB_ActivateDedicatedEndpoint
 784              		.syntax unified
 785              		.thumb
 786              		.thumb_func
 787              		.fpu fpv5-sp-d16
 789              	USB_ActivateDedicatedEndpoint:
 790              		@ args = 0, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792 0000 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 793 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 794 0004 012B     		cmp	r3, #1
 795 0006 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 796 0008 00EB4614 		add	r4, r0, r6, lsl #5
 797 000c 06F00F05 		and	r5, r6, #15
 798 0010 00F50060 		add	r0, r0, #2048
 799 0014 1CD1     		bne	.L115
 800 0016 D4F80039 		ldr	r3, [r4, #2304]
 801 001a 1A04     		lsls	r2, r3, #16
 802 001c 10D4     		bmi	.L116
 803 001e CA68     		ldr	r2, [r1, #12]
 804 0020 D4F80079 		ldr	r7, [r4, #2304]
 805 0024 C2F30A03 		ubfx	r3, r2, #0, #11
 806 0028 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 807 002a 3B43     		orrs	r3, r3, r7
 808 002c 43EA8243 		orr	r3, r3, r2, lsl #18
 809 0030 43EA8653 		orr	r3, r3, r6, lsl #22
 810 0034 43F08053 		orr	r3, r3, #268435456
 811 0038 43F40043 		orr	r3, r3, #32768
 812 003c C4F80039 		str	r3, [r4, #2304]
 813              	.L116:
 814 0040 C26B     		ldr	r2, [r0, #60]
 815 0042 0123     		movs	r3, #1
 816              	.L119:
 817 0044 03FA05F5 		lsl	r5, r3, r5
 818 0048 1543     		orrs	r5, r5, r2
 819 004a C563     		str	r5, [r0, #60]
 820 004c 0020     		movs	r0, #0
 821 004e F0BD     		pop	{r4, r5, r6, r7, pc}
 822              	.L115:
 823 0050 D4F8003B 		ldr	r3, [r4, #2816]
ARM GAS  /tmp/ccZB4POl.s 			page 15


 824 0054 1B04     		lsls	r3, r3, #16
 825 0056 0ED4     		bmi	.L118
 826 0058 CA68     		ldr	r2, [r1, #12]
 827 005a D4F8003B 		ldr	r3, [r4, #2816]
 828 005e C2F30A02 		ubfx	r2, r2, #0, #11
 829 0062 1343     		orrs	r3, r3, r2
 830 0064 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 831 0066 43EA8243 		orr	r3, r3, r2, lsl #18
 832 006a 43EA8653 		orr	r3, r3, r6, lsl #22
 833 006e 43F40043 		orr	r3, r3, #32768
 834 0072 C4F8003B 		str	r3, [r4, #2816]
 835              	.L118:
 836 0076 C26B     		ldr	r2, [r0, #60]
 837 0078 4FF48033 		mov	r3, #65536
 838 007c E2E7     		b	.L119
 840              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 841              		.align	1
 842              		.global	USB_DeactivateEndpoint
 843              		.syntax unified
 844              		.thumb
 845              		.thumb_func
 846              		.fpu fpv5-sp-d16
 848              	USB_DeactivateEndpoint:
 849              		@ args = 0, pretend = 0, frame = 0
 850              		@ frame_needed = 0, uses_anonymous_args = 0
 851 0000 10B5     		push	{r4, lr}
 852 0002 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 853 0004 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 854 0006 00EB4213 		add	r3, r0, r2, lsl #5
 855 000a 00F50060 		add	r0, r0, #2048
 856 000e 0129     		cmp	r1, #1
 857 0010 02F00F02 		and	r2, r2, #15
 858 0014 22D1     		bne	.L121
 859 0016 D3F80019 		ldr	r1, [r3, #2304]
 860 001a 0029     		cmp	r1, #0
 861 001c 0BDA     		bge	.L122
 862 001e D3F80019 		ldr	r1, [r3, #2304]
 863 0022 41F00061 		orr	r1, r1, #134217728
 864 0026 C3F80019 		str	r1, [r3, #2304]
 865 002a D3F80019 		ldr	r1, [r3, #2304]
 866 002e 41F08041 		orr	r1, r1, #1073741824
 867 0032 C3F80019 		str	r1, [r3, #2304]
 868              	.L122:
 869 0036 0121     		movs	r1, #1
 870 0038 C46B     		ldr	r4, [r0, #60]
 871 003a 01FA02F2 		lsl	r2, r1, r2
 872 003e 24EA0204 		bic	r4, r4, r2
 873 0042 C463     		str	r4, [r0, #60]
 874 0044 C169     		ldr	r1, [r0, #28]
 875 0046 21EA0202 		bic	r2, r1, r2
 876 004a C261     		str	r2, [r0, #28]
 877 004c 154A     		ldr	r2, .L125
 878 004e D3F80019 		ldr	r1, [r3, #2304]
 879 0052 0A40     		ands	r2, r2, r1
 880 0054 C3F80029 		str	r2, [r3, #2304]
 881              	.L123:
 882 0058 0020     		movs	r0, #0
ARM GAS  /tmp/ccZB4POl.s 			page 16


 883 005a 10BD     		pop	{r4, pc}
 884              	.L121:
 885 005c D3F8001B 		ldr	r1, [r3, #2816]
 886 0060 0029     		cmp	r1, #0
 887 0062 0BDA     		bge	.L124
 888 0064 D3F8001B 		ldr	r1, [r3, #2816]
 889 0068 41F00061 		orr	r1, r1, #134217728
 890 006c C3F8001B 		str	r1, [r3, #2816]
 891 0070 D3F8001B 		ldr	r1, [r3, #2816]
 892 0074 41F08041 		orr	r1, r1, #1073741824
 893 0078 C3F8001B 		str	r1, [r3, #2816]
 894              	.L124:
 895 007c 4FF48031 		mov	r1, #65536
 896 0080 C46B     		ldr	r4, [r0, #60]
 897 0082 01FA02F2 		lsl	r2, r1, r2
 898 0086 24EA0204 		bic	r4, r4, r2
 899 008a C463     		str	r4, [r0, #60]
 900 008c C169     		ldr	r1, [r0, #28]
 901 008e 21EA0202 		bic	r2, r1, r2
 902 0092 C261     		str	r2, [r0, #28]
 903 0094 044A     		ldr	r2, .L125+4
 904 0096 D3F8001B 		ldr	r1, [r3, #2816]
 905 009a 0A40     		ands	r2, r2, r1
 906 009c C3F8002B 		str	r2, [r3, #2816]
 907 00a0 DAE7     		b	.L123
 908              	.L126:
 909 00a2 00BF     		.align	2
 910              	.L125:
 911 00a4 007833EC 		.word	-332171264
 912 00a8 0078F3EF 		.word	-269256704
 914              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 915              		.align	1
 916              		.global	USB_DeactivateDedicatedEndpoint
 917              		.syntax unified
 918              		.thumb
 919              		.thumb_func
 920              		.fpu fpv5-sp-d16
 922              	USB_DeactivateDedicatedEndpoint:
 923              		@ args = 0, pretend = 0, frame = 0
 924              		@ frame_needed = 0, uses_anonymous_args = 0
 925              		@ link register save eliminated.
 926 0000 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 927 0002 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 928 0004 00EB4213 		add	r3, r0, r2, lsl #5
 929 0008 00F50060 		add	r0, r0, #2048
 930 000c 0129     		cmp	r1, #1
 931 000e 02F00F02 		and	r2, r2, #15
 932 0012 1ED1     		bne	.L128
 933 0014 D3F80019 		ldr	r1, [r3, #2304]
 934 0018 0029     		cmp	r1, #0
 935 001a 0BDA     		bge	.L129
 936 001c D3F80019 		ldr	r1, [r3, #2304]
 937 0020 41F00061 		orr	r1, r1, #134217728
 938 0024 C3F80019 		str	r1, [r3, #2304]
 939 0028 D3F80019 		ldr	r1, [r3, #2304]
 940 002c 41F08041 		orr	r1, r1, #1073741824
 941 0030 C3F80019 		str	r1, [r3, #2304]
ARM GAS  /tmp/ccZB4POl.s 			page 17


 942              	.L129:
 943 0034 D3F80019 		ldr	r1, [r3, #2304]
 944 0038 21F40041 		bic	r1, r1, #32768
 945 003c C3F80019 		str	r1, [r3, #2304]
 946 0040 0121     		movs	r1, #1
 947 0042 C369     		ldr	r3, [r0, #28]
 948              	.L132:
 949 0044 01FA02F2 		lsl	r2, r1, r2
 950 0048 23EA0202 		bic	r2, r3, r2
 951 004c C261     		str	r2, [r0, #28]
 952 004e 0020     		movs	r0, #0
 953 0050 7047     		bx	lr
 954              	.L128:
 955 0052 D3F8001B 		ldr	r1, [r3, #2816]
 956 0056 0029     		cmp	r1, #0
 957 0058 0BDA     		bge	.L131
 958 005a D3F8001B 		ldr	r1, [r3, #2816]
 959 005e 41F00061 		orr	r1, r1, #134217728
 960 0062 C3F8001B 		str	r1, [r3, #2816]
 961 0066 D3F8001B 		ldr	r1, [r3, #2816]
 962 006a 41F08041 		orr	r1, r1, #1073741824
 963 006e C3F8001B 		str	r1, [r3, #2816]
 964              	.L131:
 965 0072 D3F8001B 		ldr	r1, [r3, #2816]
 966 0076 21F40041 		bic	r1, r1, #32768
 967 007a C3F8001B 		str	r1, [r3, #2816]
 968 007e 4FF48031 		mov	r1, #65536
 969 0082 C369     		ldr	r3, [r0, #28]
 970 0084 DEE7     		b	.L132
 972              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 973              		.align	1
 974              		.global	USB_EP0StartXfer
 975              		.syntax unified
 976              		.thumb
 977              		.thumb_func
 978              		.fpu fpv5-sp-d16
 980              	USB_EP0StartXfer:
 981              		@ args = 0, pretend = 0, frame = 0
 982              		@ frame_needed = 0, uses_anonymous_args = 0
 983 0000 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 984 0002 DFF8ECC0 		ldr	ip, .L156+4
 985 0006 012B     		cmp	r3, #1
 986 0008 F0B5     		push	{r4, r5, r6, r7, lr}
 987 000a 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 988 000c 8D69     		ldr	r5, [r1, #24]
 989 000e 00EB4614 		add	r4, r0, r6, lsl #5
 990 0012 364F     		ldr	r7, .L156
 991 0014 46D1     		bne	.L134
 992 0016 04F51063 		add	r3, r4, #2304
 993 001a BDB9     		cbnz	r5, .L135
 994 001c 1D69     		ldr	r5, [r3, #16]
 995 001e 2F40     		ands	r7, r7, r5
 996 0020 1F61     		str	r7, [r3, #16]
 997 0022 1D69     		ldr	r5, [r3, #16]
 998 0024 45F40025 		orr	r5, r5, #524288
 999 0028 1D61     		str	r5, [r3, #16]
 1000 002a 1D69     		ldr	r5, [r3, #16]
ARM GAS  /tmp/ccZB4POl.s 			page 18


 1001 002c 05EA0C05 		and	r5, r5, ip
 1002              	.L155:
 1003 0030 012A     		cmp	r2, #1
 1004 0032 1D61     		str	r5, [r3, #16]
 1005 0034 23D1     		bne	.L138
 1006 0036 4A69     		ldr	r2, [r1, #20]
 1007 0038 02B1     		cbz	r2, .L139
 1008 003a 5A61     		str	r2, [r3, #20]
 1009              	.L139:
 1010 003c D4F80039 		ldr	r3, [r4, #2304]
 1011 0040 43F00443 		orr	r3, r3, #-2080374784
 1012 0044 C4F80039 		str	r3, [r4, #2304]
 1013              	.L140:
 1014 0048 0020     		movs	r0, #0
 1015 004a F0BD     		pop	{r4, r5, r6, r7, pc}
 1016              	.L135:
 1017 004c D3F810E0 		ldr	lr, [r3, #16]
 1018 0050 0EEA0C0C 		and	ip, lr, ip
 1019 0054 C3F810C0 		str	ip, [r3, #16]
 1020 0058 D3F810C0 		ldr	ip, [r3, #16]
 1021 005c 0CEA0707 		and	r7, ip, r7
 1022 0060 1F61     		str	r7, [r3, #16]
 1023 0062 CF68     		ldr	r7, [r1, #12]
 1024 0064 AF42     		cmp	r7, r5
 1025 0066 1D69     		ldr	r5, [r3, #16]
 1026 0068 45F40025 		orr	r5, r5, #524288
 1027 006c 38BF     		it	cc
 1028 006e 8F61     		strcc	r7, [r1, #24]
 1029 0070 1D61     		str	r5, [r3, #16]
 1030 0072 8D69     		ldr	r5, [r1, #24]
 1031 0074 1F69     		ldr	r7, [r3, #16]
 1032 0076 C5F31205 		ubfx	r5, r5, #0, #19
 1033 007a 3D43     		orrs	r5, r5, r7
 1034 007c D8E7     		b	.L155
 1035              	.L138:
 1036 007e D4F80039 		ldr	r3, [r4, #2304]
 1037 0082 43F00443 		orr	r3, r3, #-2080374784
 1038 0086 C4F80039 		str	r3, [r4, #2304]
 1039 008a 8B69     		ldr	r3, [r1, #24]
 1040 008c 002B     		cmp	r3, #0
 1041 008e DBD0     		beq	.L140
 1042 0090 06F00F06 		and	r6, r6, #15
 1043 0094 0123     		movs	r3, #1
 1044 0096 D0F83428 		ldr	r2, [r0, #2100]
 1045 009a B340     		lsls	r3, r3, r6
 1046 009c 1343     		orrs	r3, r3, r2
 1047 009e C0F83438 		str	r3, [r0, #2100]
 1048 00a2 D1E7     		b	.L140
 1049              	.L134:
 1050 00a4 D4F8100B 		ldr	r0, [r4, #2832]
 1051 00a8 04F53063 		add	r3, r4, #2816
 1052 00ac 00EA0C00 		and	r0, r0, ip
 1053 00b0 1861     		str	r0, [r3, #16]
 1054 00b2 1869     		ldr	r0, [r3, #16]
 1055 00b4 3840     		ands	r0, r0, r7
 1056 00b6 1861     		str	r0, [r3, #16]
 1057 00b8 C868     		ldr	r0, [r1, #12]
ARM GAS  /tmp/ccZB4POl.s 			page 19


 1058 00ba 05B1     		cbz	r5, .L141
 1059 00bc 8861     		str	r0, [r1, #24]
 1060              	.L141:
 1061 00be 1D69     		ldr	r5, [r3, #16]
 1062 00c0 012A     		cmp	r2, #1
 1063 00c2 C861     		str	r0, [r1, #28]
 1064 00c4 C0F31200 		ubfx	r0, r0, #0, #19
 1065 00c8 45F40025 		orr	r5, r5, #524288
 1066 00cc 1D61     		str	r5, [r3, #16]
 1067 00ce 1D69     		ldr	r5, [r3, #16]
 1068 00d0 40EA0500 		orr	r0, r0, r5
 1069 00d4 1861     		str	r0, [r3, #16]
 1070 00d6 02D1     		bne	.L142
 1071 00d8 0A69     		ldr	r2, [r1, #16]
 1072 00da 02B1     		cbz	r2, .L142
 1073 00dc 5A61     		str	r2, [r3, #20]
 1074              	.L142:
 1075 00de D4F8003B 		ldr	r3, [r4, #2816]
 1076 00e2 43F00443 		orr	r3, r3, #-2080374784
 1077 00e6 C4F8003B 		str	r3, [r4, #2816]
 1078 00ea ADE7     		b	.L140
 1079              	.L157:
 1080              		.align	2
 1081              	.L156:
 1082 00ec FFFF07E0 		.word	-536346625
 1083 00f0 0000F8FF 		.word	-524288
 1085              		.section	.text.USB_EPStopXfer,"ax",%progbits
 1086              		.align	1
 1087              		.global	USB_EPStopXfer
 1088              		.syntax unified
 1089              		.thumb
 1090              		.thumb_func
 1091              		.fpu fpv5-sp-d16
 1093              	USB_EPStopXfer:
 1094              		@ args = 0, pretend = 0, frame = 8
 1095              		@ frame_needed = 0, uses_anonymous_args = 0
 1096              		@ link register save eliminated.
 1097 0000 0023     		movs	r3, #0
 1098 0002 82B0     		sub	sp, sp, #8
 1099 0004 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1100 0006 0193     		str	r3, [sp, #4]
 1101 0008 012A     		cmp	r2, #1
 1102 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1103 000c 4FEA4313 		lsl	r3, r3, #5
 1104 0010 1ED1     		bne	.L159
 1105 0012 00F51060 		add	r0, r0, #2304
 1106 0016 C258     		ldr	r2, [r0, r3]
 1107 0018 C118     		adds	r1, r0, r3
 1108 001a 002A     		cmp	r2, #0
 1109 001c 02DB     		blt	.L160
 1110              	.L164:
 1111 001e 0020     		movs	r0, #0
 1112              	.L161:
 1113 0020 02B0     		add	sp, sp, #8
 1114              		@ sp needed
 1115 0022 7047     		bx	lr
 1116              	.L160:
ARM GAS  /tmp/ccZB4POl.s 			page 20


 1117 0024 C258     		ldr	r2, [r0, r3]
 1118 0026 42F00062 		orr	r2, r2, #134217728
 1119 002a C250     		str	r2, [r0, r3]
 1120 002c C258     		ldr	r2, [r0, r3]
 1121 002e 42F08042 		orr	r2, r2, #1073741824
 1122 0032 C250     		str	r2, [r0, r3]
 1123 0034 42F21072 		movw	r2, #10000
 1124              	.L163:
 1125 0038 019B     		ldr	r3, [sp, #4]
 1126 003a 0133     		adds	r3, r3, #1
 1127 003c 0193     		str	r3, [sp, #4]
 1128 003e 019B     		ldr	r3, [sp, #4]
 1129 0040 9342     		cmp	r3, r2
 1130 0042 01D9     		bls	.L162
 1131              	.L165:
 1132 0044 0120     		movs	r0, #1
 1133 0046 EBE7     		b	.L161
 1134              	.L162:
 1135 0048 0B68     		ldr	r3, [r1]
 1136 004a 002B     		cmp	r3, #0
 1137 004c F4DB     		blt	.L163
 1138 004e E6E7     		b	.L164
 1139              	.L159:
 1140 0050 00F53060 		add	r0, r0, #2816
 1141 0054 C258     		ldr	r2, [r0, r3]
 1142 0056 C118     		adds	r1, r0, r3
 1143 0058 002A     		cmp	r2, #0
 1144 005a E0DA     		bge	.L164
 1145 005c C258     		ldr	r2, [r0, r3]
 1146 005e 42F00062 		orr	r2, r2, #134217728
 1147 0062 C250     		str	r2, [r0, r3]
 1148 0064 C258     		ldr	r2, [r0, r3]
 1149 0066 42F08042 		orr	r2, r2, #1073741824
 1150 006a C250     		str	r2, [r0, r3]
 1151 006c 42F21072 		movw	r2, #10000
 1152              	.L166:
 1153 0070 019B     		ldr	r3, [sp, #4]
 1154 0072 0133     		adds	r3, r3, #1
 1155 0074 0193     		str	r3, [sp, #4]
 1156 0076 019B     		ldr	r3, [sp, #4]
 1157 0078 9342     		cmp	r3, r2
 1158 007a E3D8     		bhi	.L165
 1159 007c 0B68     		ldr	r3, [r1]
 1160 007e 002B     		cmp	r3, #0
 1161 0080 F6DB     		blt	.L166
 1162 0082 CCE7     		b	.L164
 1164              		.section	.text.USB_WritePacket,"ax",%progbits
 1165              		.align	1
 1166              		.global	USB_WritePacket
 1167              		.syntax unified
 1168              		.thumb
 1169              		.thumb_func
 1170              		.fpu fpv5-sp-d16
 1172              	USB_WritePacket:
 1173              		@ args = 4, pretend = 0, frame = 0
 1174              		@ frame_needed = 0, uses_anonymous_args = 0
 1175 0000 10B5     		push	{r4, lr}
ARM GAS  /tmp/ccZB4POl.s 			page 21


 1176 0002 9DF80840 		ldrb	r4, [sp, #8]	@ zero_extendqisi2
 1177 0006 44B9     		cbnz	r4, .L174
 1178 0008 0333     		adds	r3, r3, #3
 1179 000a 0132     		adds	r2, r2, #1
 1180 000c 9B08     		lsrs	r3, r3, #2
 1181 000e 00EB0230 		add	r0, r0, r2, lsl #12
 1182 0012 01EB8303 		add	r3, r1, r3, lsl #2
 1183              	.L171:
 1184 0016 8B42     		cmp	r3, r1
 1185 0018 01D1     		bne	.L172
 1186              	.L174:
 1187 001a 0020     		movs	r0, #0
 1188 001c 10BD     		pop	{r4, pc}
 1189              	.L172:
 1190 001e 51F8042B 		ldr	r2, [r1], #4	@ unaligned
 1191 0022 0260     		str	r2, [r0]
 1192 0024 F7E7     		b	.L171
 1194              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1195              		.align	1
 1196              		.global	USB_EPStartXfer
 1197              		.syntax unified
 1198              		.thumb
 1199              		.thumb_func
 1200              		.fpu fpv5-sp-d16
 1202              	USB_EPStartXfer:
 1203              		@ args = 0, pretend = 0, frame = 0
 1204              		@ frame_needed = 0, uses_anonymous_args = 0
 1205 0000 2DE9F341 		push	{r0, r1, r4, r5, r6, r7, r8, lr}
 1206 0004 4D78     		ldrb	r5, [r1, #1]	@ zero_extendqisi2
 1207 0006 0F78     		ldrb	r7, [r1]	@ zero_extendqisi2
 1208 0008 012D     		cmp	r5, #1
 1209 000a 8B69     		ldr	r3, [r1, #24]
 1210 000c 00EB4714 		add	r4, r0, r7, lsl #5
 1211 0010 0E79     		ldrb	r6, [r1, #4]	@ zero_extendqisi2
 1212 0012 DFF8B4C1 		ldr	ip, .L204
 1213 0016 DFF8B4E1 		ldr	lr, .L204+4
 1214 001a 40F08E80 		bne	.L176
 1215 001e 04F51065 		add	r5, r4, #2304
 1216 0022 D5F81080 		ldr	r8, [r5, #16]
 1217 0026 6BBB     		cbnz	r3, .L177
 1218 0028 08EA0C0C 		and	ip, r8, ip
 1219 002c C5F810C0 		str	ip, [r5, #16]
 1220 0030 D5F810C0 		ldr	ip, [r5, #16]
 1221 0034 4CF4002C 		orr	ip, ip, #524288
 1222 0038 C5F810C0 		str	ip, [r5, #16]
 1223 003c D5F810C0 		ldr	ip, [r5, #16]
 1224 0040 0CEA0E0E 		and	lr, ip, lr
 1225 0044 C5F810E0 		str	lr, [r5, #16]
 1226              	.L178:
 1227 0048 012A     		cmp	r2, #1
 1228 004a 4ED1     		bne	.L179
 1229 004c 4B69     		ldr	r3, [r1, #20]
 1230 004e 03B1     		cbz	r3, .L180
 1231 0050 6B61     		str	r3, [r5, #20]
 1232              	.L180:
 1233 0052 012E     		cmp	r6, #1
 1234 0054 0CD1     		bne	.L181
ARM GAS  /tmp/ccZB4POl.s 			page 22


 1235 0056 D0F80838 		ldr	r3, [r0, #2056]
 1236 005a 13F4807F 		tst	r3, #256
 1237 005e D4F80039 		ldr	r3, [r4, #2304]
 1238 0062 0CBF     		ite	eq
 1239 0064 43F00053 		orreq	r3, r3, #536870912
 1240 0068 43F08053 		orrne	r3, r3, #268435456
 1241 006c C4F80039 		str	r3, [r4, #2304]
 1242              	.L181:
 1243 0070 D4F80039 		ldr	r3, [r4, #2304]
 1244 0074 43F00443 		orr	r3, r3, #-2080374784
 1245 0078 C4F80039 		str	r3, [r4, #2304]
 1246              	.L183:
 1247 007c 0020     		movs	r0, #0
 1248 007e 02B0     		add	sp, sp, #8
 1249              		@ sp needed
 1250 0080 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1251              	.L177:
 1252 0084 08EA0E0E 		and	lr, r8, lr
 1253 0088 012E     		cmp	r6, #1
 1254 008a C5F810E0 		str	lr, [r5, #16]
 1255 008e D5F810E0 		ldr	lr, [r5, #16]
 1256 0092 0EEA0C0C 		and	ip, lr, ip
 1257 0096 D1F80CE0 		ldr	lr, [r1, #12]
 1258 009a C5F810C0 		str	ip, [r5, #16]
 1259 009e 0EEB030C 		add	ip, lr, r3
 1260 00a2 D5F81080 		ldr	r8, [r5, #16]
 1261 00a6 0CF1FF3C 		add	ip, ip, #-1
 1262 00aa BCFBFEFE 		udiv	lr, ip, lr
 1263 00ae DFF820C1 		ldr	ip, .L204+8
 1264 00b2 0CEACE4C 		and	ip, ip, lr, lsl #19
 1265 00b6 4CEA080C 		orr	ip, ip, r8
 1266 00ba C5F810C0 		str	ip, [r5, #16]
 1267 00be C3F3120C 		ubfx	ip, r3, #0, #19
 1268 00c2 D5F810E0 		ldr	lr, [r5, #16]
 1269 00c6 4CEA0E0C 		orr	ip, ip, lr
 1270 00ca C5F810C0 		str	ip, [r5, #16]
 1271 00ce BBD1     		bne	.L178
 1272 00d0 D5F810C0 		ldr	ip, [r5, #16]
 1273 00d4 2CF0C04C 		bic	ip, ip, #1610612736
 1274 00d8 C5F810C0 		str	ip, [r5, #16]
 1275 00dc D5F810C0 		ldr	ip, [r5, #16]
 1276 00e0 4CF0005C 		orr	ip, ip, #536870912
 1277 00e4 C5F810C0 		str	ip, [r5, #16]
 1278 00e8 AEE7     		b	.L178
 1279              	.L179:
 1280 00ea D4F80059 		ldr	r5, [r4, #2304]
 1281 00ee 012E     		cmp	r6, #1
 1282 00f0 45F00445 		orr	r5, r5, #-2080374784
 1283 00f4 C4F80059 		str	r5, [r4, #2304]
 1284 00f8 0BD0     		beq	.L184
 1285 00fa 002B     		cmp	r3, #0
 1286 00fc BED0     		beq	.L183
 1287 00fe 07F00F02 		and	r2, r7, #15
 1288 0102 0127     		movs	r7, #1
 1289 0104 D0F83438 		ldr	r3, [r0, #2100]
 1290 0108 9740     		lsls	r7, r7, r2
 1291 010a 1F43     		orrs	r7, r7, r3
ARM GAS  /tmp/ccZB4POl.s 			page 23


 1292 010c C0F83478 		str	r7, [r0, #2100]
 1293 0110 B4E7     		b	.L183
 1294              	.L184:
 1295 0112 D0F80858 		ldr	r5, [r0, #2056]
 1296 0116 9BB2     		uxth	r3, r3
 1297 0118 15F4807F 		tst	r5, #256
 1298 011c D4F80059 		ldr	r5, [r4, #2304]
 1299 0120 0CBF     		ite	eq
 1300 0122 45F00055 		orreq	r5, r5, #536870912
 1301 0126 45F08055 		orrne	r5, r5, #268435456
 1302 012a C4F80059 		str	r5, [r4, #2304]
 1303 012e 0092     		str	r2, [sp]
 1304 0130 3A46     		mov	r2, r7
 1305 0132 0969     		ldr	r1, [r1, #16]
 1306 0134 FFF7FEFF 		bl	USB_WritePacket
 1307 0138 A0E7     		b	.L183
 1308              	.L176:
 1309 013a D4F8105B 		ldr	r5, [r4, #2832]
 1310 013e 04F53067 		add	r7, r4, #2816
 1311 0142 05EA0E05 		and	r5, r5, lr
 1312 0146 3D61     		str	r5, [r7, #16]
 1313 0148 3D69     		ldr	r5, [r7, #16]
 1314 014a 05EA0C05 		and	r5, r5, ip
 1315 014e 3D61     		str	r5, [r7, #16]
 1316 0150 CD68     		ldr	r5, [r1, #12]
 1317 0152 1BBB     		cbnz	r3, .L187
 1318 0154 3B69     		ldr	r3, [r7, #16]
 1319 0156 C5F31205 		ubfx	r5, r5, #0, #19
 1320 015a 1D43     		orrs	r5, r5, r3
 1321 015c 3D61     		str	r5, [r7, #16]
 1322 015e 3B69     		ldr	r3, [r7, #16]
 1323 0160 43F40023 		orr	r3, r3, #524288
 1324 0164 3B61     		str	r3, [r7, #16]
 1325              	.L188:
 1326 0166 012A     		cmp	r2, #1
 1327 0168 02D1     		bne	.L189
 1328 016a 0B69     		ldr	r3, [r1, #16]
 1329 016c 03B1     		cbz	r3, .L189
 1330 016e 7B61     		str	r3, [r7, #20]
 1331              	.L189:
 1332 0170 012E     		cmp	r6, #1
 1333 0172 0CD1     		bne	.L190
 1334 0174 D0F80838 		ldr	r3, [r0, #2056]
 1335 0178 13F4807F 		tst	r3, #256
 1336 017c D4F8003B 		ldr	r3, [r4, #2816]
 1337 0180 0CBF     		ite	eq
 1338 0182 43F00053 		orreq	r3, r3, #536870912
 1339 0186 43F08053 		orrne	r3, r3, #268435456
 1340 018a C4F8003B 		str	r3, [r4, #2816]
 1341              	.L190:
 1342 018e D4F8003B 		ldr	r3, [r4, #2816]
 1343 0192 43F00443 		orr	r3, r3, #-2080374784
 1344 0196 C4F8003B 		str	r3, [r4, #2816]
 1345 019a 6FE7     		b	.L183
 1346              	.L187:
 1347 019c 2B44     		add	r3, r3, r5
 1348 019e DFF830C0 		ldr	ip, .L204+8
ARM GAS  /tmp/ccZB4POl.s 			page 24


 1349 01a2 D7F810E0 		ldr	lr, [r7, #16]
 1350 01a6 013B     		subs	r3, r3, #1
 1351 01a8 B3FBF5F3 		udiv	r3, r3, r5
 1352 01ac 9BB2     		uxth	r3, r3
 1353 01ae 5D43     		muls	r5, r3, r5
 1354 01b0 0CEAC343 		and	r3, ip, r3, lsl #19
 1355 01b4 43EA0E03 		orr	r3, r3, lr
 1356 01b8 CD61     		str	r5, [r1, #28]
 1357 01ba C5F31205 		ubfx	r5, r5, #0, #19
 1358 01be 3B61     		str	r3, [r7, #16]
 1359 01c0 3B69     		ldr	r3, [r7, #16]
 1360 01c2 1D43     		orrs	r5, r5, r3
 1361 01c4 3D61     		str	r5, [r7, #16]
 1362 01c6 CEE7     		b	.L188
 1363              	.L205:
 1364              		.align	2
 1365              	.L204:
 1366 01c8 FFFF07E0 		.word	-536346625
 1367 01cc 0000F8FF 		.word	-524288
 1368 01d0 0000F81F 		.word	536346624
 1370              		.section	.text.USB_ReadPacket,"ax",%progbits
 1371              		.align	1
 1372              		.global	USB_ReadPacket
 1373              		.syntax unified
 1374              		.thumb
 1375              		.thumb_func
 1376              		.fpu fpv5-sp-d16
 1378              	USB_ReadPacket:
 1379              		@ args = 0, pretend = 0, frame = 0
 1380              		@ frame_needed = 0, uses_anonymous_args = 0
 1381 0000 0346     		mov	r3, r0
 1382 0002 9008     		lsrs	r0, r2, #2
 1383 0004 02F00302 		and	r2, r2, #3
 1384 0008 70B5     		push	{r4, r5, r6, lr}
 1385 000a 0024     		movs	r4, #0
 1386 000c 03F58055 		add	r5, r3, #4096
 1387              	.L207:
 1388 0010 8442     		cmp	r4, r0
 1389 0012 10D3     		bcc	.L208
 1390 0014 01EB8000 		add	r0, r1, r0, lsl #2
 1391 0018 62B1     		cbz	r2, .L206
 1392 001a 03F58053 		add	r3, r3, #4096
 1393 001e 1C68     		ldr	r4, [r3]
 1394 0020 0023     		movs	r3, #0
 1395              	.L210:
 1396 0022 D900     		lsls	r1, r3, #3
 1397 0024 24FA01F1 		lsr	r1, r4, r1
 1398 0028 C154     		strb	r1, [r0, r3]
 1399 002a 0133     		adds	r3, r3, #1
 1400 002c 99B2     		uxth	r1, r3
 1401 002e 8A42     		cmp	r2, r1
 1402 0030 F7D1     		bne	.L210
 1403 0032 1044     		add	r0, r0, r2
 1404              	.L206:
 1405 0034 70BD     		pop	{r4, r5, r6, pc}
 1406              	.L208:
 1407 0036 2E68     		ldr	r6, [r5]
ARM GAS  /tmp/ccZB4POl.s 			page 25


 1408 0038 41F82460 		str	r6, [r1, r4, lsl #2]	@ unaligned
 1409 003c 0134     		adds	r4, r4, #1
 1410 003e E7E7     		b	.L207
 1412              		.section	.text.USB_EPSetStall,"ax",%progbits
 1413              		.align	1
 1414              		.global	USB_EPSetStall
 1415              		.syntax unified
 1416              		.thumb
 1417              		.thumb_func
 1418              		.fpu fpv5-sp-d16
 1420              	USB_EPSetStall:
 1421              		@ args = 0, pretend = 0, frame = 0
 1422              		@ frame_needed = 0, uses_anonymous_args = 0
 1423              		@ link register save eliminated.
 1424 0000 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1425 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1426 0004 012A     		cmp	r2, #1
 1427 0006 00EB4310 		add	r0, r0, r3, lsl #5
 1428 000a 12D1     		bne	.L216
 1429 000c D0F80029 		ldr	r2, [r0, #2304]
 1430 0010 002A     		cmp	r2, #0
 1431 0012 06DB     		blt	.L217
 1432 0014 2BB1     		cbz	r3, .L217
 1433 0016 D0F80039 		ldr	r3, [r0, #2304]
 1434 001a 23F08043 		bic	r3, r3, #1073741824
 1435 001e C0F80039 		str	r3, [r0, #2304]
 1436              	.L217:
 1437 0022 D0F80039 		ldr	r3, [r0, #2304]
 1438 0026 43F40013 		orr	r3, r3, #2097152
 1439 002a C0F80039 		str	r3, [r0, #2304]
 1440              	.L218:
 1441 002e 0020     		movs	r0, #0
 1442 0030 7047     		bx	lr
 1443              	.L216:
 1444 0032 D0F8002B 		ldr	r2, [r0, #2816]
 1445 0036 002A     		cmp	r2, #0
 1446 0038 06DB     		blt	.L219
 1447 003a 2BB1     		cbz	r3, .L219
 1448 003c D0F8003B 		ldr	r3, [r0, #2816]
 1449 0040 23F08043 		bic	r3, r3, #1073741824
 1450 0044 C0F8003B 		str	r3, [r0, #2816]
 1451              	.L219:
 1452 0048 D0F8003B 		ldr	r3, [r0, #2816]
 1453 004c 43F40013 		orr	r3, r3, #2097152
 1454 0050 C0F8003B 		str	r3, [r0, #2816]
 1455 0054 EBE7     		b	.L218
 1457              		.section	.text.USB_EPClearStall,"ax",%progbits
 1458              		.align	1
 1459              		.global	USB_EPClearStall
 1460              		.syntax unified
 1461              		.thumb
 1462              		.thumb_func
 1463              		.fpu fpv5-sp-d16
 1465              	USB_EPClearStall:
 1466              		@ args = 0, pretend = 0, frame = 0
 1467              		@ frame_needed = 0, uses_anonymous_args = 0
 1468              		@ link register save eliminated.
ARM GAS  /tmp/ccZB4POl.s 			page 26


 1469 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1470 0002 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1471 0004 00EB4310 		add	r0, r0, r3, lsl #5
 1472 0008 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 1473 000a 012A     		cmp	r2, #1
 1474 000c A3F10203 		sub	r3, r3, #2
 1475 0010 DBB2     		uxtb	r3, r3
 1476 0012 0FD1     		bne	.L227
 1477 0014 D0F80029 		ldr	r2, [r0, #2304]
 1478 0018 012B     		cmp	r3, #1
 1479 001a 22F40012 		bic	r2, r2, #2097152
 1480 001e C0F80029 		str	r2, [r0, #2304]
 1481 0022 05D8     		bhi	.L229
 1482 0024 D0F80039 		ldr	r3, [r0, #2304]
 1483 0028 43F08053 		orr	r3, r3, #268435456
 1484 002c C0F80039 		str	r3, [r0, #2304]
 1485              	.L229:
 1486 0030 0020     		movs	r0, #0
 1487 0032 7047     		bx	lr
 1488              	.L227:
 1489 0034 D0F8002B 		ldr	r2, [r0, #2816]
 1490 0038 012B     		cmp	r3, #1
 1491 003a 22F40012 		bic	r2, r2, #2097152
 1492 003e C0F8002B 		str	r2, [r0, #2816]
 1493 0042 F5D8     		bhi	.L229
 1494 0044 D0F8003B 		ldr	r3, [r0, #2816]
 1495 0048 43F08053 		orr	r3, r3, #268435456
 1496 004c C0F8003B 		str	r3, [r0, #2816]
 1497 0050 EEE7     		b	.L229
 1499              		.section	.text.USB_StopDevice,"ax",%progbits
 1500              		.align	1
 1501              		.global	USB_StopDevice
 1502              		.syntax unified
 1503              		.thumb
 1504              		.thumb_func
 1505              		.fpu fpv5-sp-d16
 1507              	USB_StopDevice:
 1508              		@ args = 0, pretend = 0, frame = 0
 1509              		@ frame_needed = 0, uses_anonymous_args = 0
 1510 0000 10B5     		push	{r4, lr}
 1511 0002 00F51063 		add	r3, r0, #2304
 1512 0006 0446     		mov	r4, r0
 1513 0008 00F52E61 		add	r1, r0, #2784
 1514 000c 4FF67F32 		movw	r2, #64383
 1515              	.L232:
 1516 0010 9A60     		str	r2, [r3, #8]
 1517 0012 2033     		adds	r3, r3, #32
 1518 0014 C3F8E821 		str	r2, [r3, #488]
 1519 0018 8B42     		cmp	r3, r1
 1520 001a F9D1     		bne	.L232
 1521 001c 0022     		movs	r2, #0
 1522 001e 2046     		mov	r0, r4
 1523 0020 C4F81028 		str	r2, [r4, #2064]
 1524 0024 C4F81428 		str	r2, [r4, #2068]
 1525 0028 C4F81C28 		str	r2, [r4, #2076]
 1526 002c FFF7FEFF 		bl	USB_FlushRxFifo
 1527 0030 28B9     		cbnz	r0, .L233
ARM GAS  /tmp/ccZB4POl.s 			page 27


 1528 0032 2046     		mov	r0, r4
 1529 0034 1021     		movs	r1, #16
 1530 0036 BDE81040 		pop	{r4, lr}
 1531 003a FFF7FEBF 		b	USB_FlushTxFifo
 1532              	.L233:
 1533 003e 10BD     		pop	{r4, pc}
 1535              		.section	.text.USB_SetDevAddress,"ax",%progbits
 1536              		.align	1
 1537              		.global	USB_SetDevAddress
 1538              		.syntax unified
 1539              		.thumb
 1540              		.thumb_func
 1541              		.fpu fpv5-sp-d16
 1543              	USB_SetDevAddress:
 1544              		@ args = 0, pretend = 0, frame = 0
 1545              		@ frame_needed = 0, uses_anonymous_args = 0
 1546              		@ link register save eliminated.
 1547 0000 D0F80038 		ldr	r3, [r0, #2048]
 1548 0004 0901     		lsls	r1, r1, #4
 1549 0006 23F4FE63 		bic	r3, r3, #2032
 1550 000a 01F4FE61 		and	r1, r1, #2032
 1551 000e C0F80038 		str	r3, [r0, #2048]
 1552 0012 D0F80038 		ldr	r3, [r0, #2048]
 1553 0016 1943     		orrs	r1, r1, r3
 1554 0018 C0F80018 		str	r1, [r0, #2048]
 1555 001c 0020     		movs	r0, #0
 1556 001e 7047     		bx	lr
 1558              		.section	.text.USB_DevConnect,"ax",%progbits
 1559              		.align	1
 1560              		.global	USB_DevConnect
 1561              		.syntax unified
 1562              		.thumb
 1563              		.thumb_func
 1564              		.fpu fpv5-sp-d16
 1566              	USB_DevConnect:
 1567              		@ args = 0, pretend = 0, frame = 0
 1568              		@ frame_needed = 0, uses_anonymous_args = 0
 1569              		@ link register save eliminated.
 1570 0000 D0F8003E 		ldr	r3, [r0, #3584]
 1571 0004 23F00303 		bic	r3, r3, #3
 1572 0008 C0F8003E 		str	r3, [r0, #3584]
 1573 000c D0F80438 		ldr	r3, [r0, #2052]
 1574 0010 23F00203 		bic	r3, r3, #2
 1575 0014 C0F80438 		str	r3, [r0, #2052]
 1576 0018 0020     		movs	r0, #0
 1577 001a 7047     		bx	lr
 1579              		.section	.text.USB_DevDisconnect,"ax",%progbits
 1580              		.align	1
 1581              		.global	USB_DevDisconnect
 1582              		.syntax unified
 1583              		.thumb
 1584              		.thumb_func
 1585              		.fpu fpv5-sp-d16
 1587              	USB_DevDisconnect:
 1588              		@ args = 0, pretend = 0, frame = 0
 1589              		@ frame_needed = 0, uses_anonymous_args = 0
 1590              		@ link register save eliminated.
ARM GAS  /tmp/ccZB4POl.s 			page 28


 1591 0000 D0F8003E 		ldr	r3, [r0, #3584]
 1592 0004 23F00303 		bic	r3, r3, #3
 1593 0008 C0F8003E 		str	r3, [r0, #3584]
 1594 000c D0F80438 		ldr	r3, [r0, #2052]
 1595 0010 43F00203 		orr	r3, r3, #2
 1596 0014 C0F80438 		str	r3, [r0, #2052]
 1597 0018 0020     		movs	r0, #0
 1598 001a 7047     		bx	lr
 1600              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 1601              		.align	1
 1602              		.global	USB_ReadInterrupts
 1603              		.syntax unified
 1604              		.thumb
 1605              		.thumb_func
 1606              		.fpu fpv5-sp-d16
 1608              	USB_ReadInterrupts:
 1609              		@ args = 0, pretend = 0, frame = 0
 1610              		@ frame_needed = 0, uses_anonymous_args = 0
 1611              		@ link register save eliminated.
 1612 0000 4269     		ldr	r2, [r0, #20]
 1613 0002 8069     		ldr	r0, [r0, #24]
 1614 0004 1040     		ands	r0, r0, r2
 1615 0006 7047     		bx	lr
 1617              		.section	.text.USB_ReadChInterrupts,"ax",%progbits
 1618              		.align	1
 1619              		.global	USB_ReadChInterrupts
 1620              		.syntax unified
 1621              		.thumb
 1622              		.thumb_func
 1623              		.fpu fpv5-sp-d16
 1625              	USB_ReadChInterrupts:
 1626              		@ args = 0, pretend = 0, frame = 0
 1627              		@ frame_needed = 0, uses_anonymous_args = 0
 1628              		@ link register save eliminated.
 1629 0000 00EB4111 		add	r1, r0, r1, lsl #5
 1630 0004 D1F80805 		ldr	r0, [r1, #1288]
 1631 0008 D1F80C35 		ldr	r3, [r1, #1292]
 1632 000c 1840     		ands	r0, r0, r3
 1633 000e 7047     		bx	lr
 1635              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 1636              		.align	1
 1637              		.global	USB_ReadDevAllOutEpInterrupt
 1638              		.syntax unified
 1639              		.thumb
 1640              		.thumb_func
 1641              		.fpu fpv5-sp-d16
 1643              	USB_ReadDevAllOutEpInterrupt:
 1644              		@ args = 0, pretend = 0, frame = 0
 1645              		@ frame_needed = 0, uses_anonymous_args = 0
 1646              		@ link register save eliminated.
 1647 0000 D0F81838 		ldr	r3, [r0, #2072]
 1648 0004 00F50060 		add	r0, r0, #2048
 1649 0008 C069     		ldr	r0, [r0, #28]
 1650 000a 1840     		ands	r0, r0, r3
 1651 000c 000C     		lsrs	r0, r0, #16
 1652 000e 7047     		bx	lr
 1654              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
ARM GAS  /tmp/ccZB4POl.s 			page 29


 1655              		.align	1
 1656              		.global	USB_ReadDevAllInEpInterrupt
 1657              		.syntax unified
 1658              		.thumb
 1659              		.thumb_func
 1660              		.fpu fpv5-sp-d16
 1662              	USB_ReadDevAllInEpInterrupt:
 1663              		@ args = 0, pretend = 0, frame = 0
 1664              		@ frame_needed = 0, uses_anonymous_args = 0
 1665              		@ link register save eliminated.
 1666 0000 D0F81838 		ldr	r3, [r0, #2072]
 1667 0004 00F50060 		add	r0, r0, #2048
 1668 0008 C069     		ldr	r0, [r0, #28]
 1669 000a 1840     		ands	r0, r0, r3
 1670 000c 80B2     		uxth	r0, r0
 1671 000e 7047     		bx	lr
 1673              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 1674              		.align	1
 1675              		.global	USB_ReadDevOutEPInterrupt
 1676              		.syntax unified
 1677              		.thumb
 1678              		.thumb_func
 1679              		.fpu fpv5-sp-d16
 1681              	USB_ReadDevOutEPInterrupt:
 1682              		@ args = 0, pretend = 0, frame = 0
 1683              		@ frame_needed = 0, uses_anonymous_args = 0
 1684              		@ link register save eliminated.
 1685 0000 00EB4111 		add	r1, r0, r1, lsl #5
 1686 0004 00F50060 		add	r0, r0, #2048
 1687 0008 D1F8082B 		ldr	r2, [r1, #2824]
 1688 000c 4069     		ldr	r0, [r0, #20]
 1689 000e 1040     		ands	r0, r0, r2
 1690 0010 7047     		bx	lr
 1692              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 1693              		.align	1
 1694              		.global	USB_ReadDevInEPInterrupt
 1695              		.syntax unified
 1696              		.thumb
 1697              		.thumb_func
 1698              		.fpu fpv5-sp-d16
 1700              	USB_ReadDevInEPInterrupt:
 1701              		@ args = 0, pretend = 0, frame = 0
 1702              		@ frame_needed = 0, uses_anonymous_args = 0
 1703 0000 10B5     		push	{r4, lr}
 1704 0002 D0F81048 		ldr	r4, [r0, #2064]
 1705 0006 D0F83438 		ldr	r3, [r0, #2100]
 1706 000a 00EB4110 		add	r0, r0, r1, lsl #5
 1707 000e 01F00F01 		and	r1, r1, #15
 1708 0012 00F51060 		add	r0, r0, #2304
 1709 0016 CB40     		lsrs	r3, r3, r1
 1710 0018 8068     		ldr	r0, [r0, #8]
 1711 001a DB01     		lsls	r3, r3, #7
 1712 001c DBB2     		uxtb	r3, r3
 1713 001e 2343     		orrs	r3, r3, r4
 1714 0020 1840     		ands	r0, r0, r3
 1715 0022 10BD     		pop	{r4, pc}
 1717              		.section	.text.USB_ClearInterrupts,"ax",%progbits
ARM GAS  /tmp/ccZB4POl.s 			page 30


 1718              		.align	1
 1719              		.global	USB_ClearInterrupts
 1720              		.syntax unified
 1721              		.thumb
 1722              		.thumb_func
 1723              		.fpu fpv5-sp-d16
 1725              	USB_ClearInterrupts:
 1726              		@ args = 0, pretend = 0, frame = 0
 1727              		@ frame_needed = 0, uses_anonymous_args = 0
 1728              		@ link register save eliminated.
 1729 0000 4369     		ldr	r3, [r0, #20]
 1730 0002 1943     		orrs	r1, r1, r3
 1731 0004 4161     		str	r1, [r0, #20]
 1732 0006 7047     		bx	lr
 1734              		.section	.text.USB_GetMode,"ax",%progbits
 1735              		.align	1
 1736              		.global	USB_GetMode
 1737              		.syntax unified
 1738              		.thumb
 1739              		.thumb_func
 1740              		.fpu fpv5-sp-d16
 1742              	USB_GetMode:
 1743              		@ args = 0, pretend = 0, frame = 0
 1744              		@ frame_needed = 0, uses_anonymous_args = 0
 1745              		@ link register save eliminated.
 1746 0000 4069     		ldr	r0, [r0, #20]
 1747 0002 00F00100 		and	r0, r0, #1
 1748 0006 7047     		bx	lr
 1750              		.section	.text.USB_ActivateSetup,"ax",%progbits
 1751              		.align	1
 1752              		.global	USB_ActivateSetup
 1753              		.syntax unified
 1754              		.thumb
 1755              		.thumb_func
 1756              		.fpu fpv5-sp-d16
 1758              	USB_ActivateSetup:
 1759              		@ args = 0, pretend = 0, frame = 0
 1760              		@ frame_needed = 0, uses_anonymous_args = 0
 1761              		@ link register save eliminated.
 1762 0000 D0F80039 		ldr	r3, [r0, #2304]
 1763 0004 23F4FF63 		bic	r3, r3, #2040
 1764 0008 23F00703 		bic	r3, r3, #7
 1765 000c C0F80039 		str	r3, [r0, #2304]
 1766 0010 D0F80438 		ldr	r3, [r0, #2052]
 1767 0014 43F48073 		orr	r3, r3, #256
 1768 0018 C0F80438 		str	r3, [r0, #2052]
 1769 001c 0020     		movs	r0, #0
 1770 001e 7047     		bx	lr
 1772              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 1773              		.align	1
 1774              		.global	USB_EP0_OutStart
 1775              		.syntax unified
 1776              		.thumb
 1777              		.thumb_func
 1778              		.fpu fpv5-sp-d16
 1780              	USB_EP0_OutStart:
 1781              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccZB4POl.s 			page 31


 1782              		@ frame_needed = 0, uses_anonymous_args = 0
 1783 0000 30B5     		push	{r4, r5, lr}
 1784 0002 056C     		ldr	r5, [r0, #64]
 1785 0004 00F53063 		add	r3, r0, #2816
 1786 0008 0F4C     		ldr	r4, .L251
 1787 000a A542     		cmp	r5, r4
 1788 000c 03D9     		bls	.L248
 1789 000e D0F8004B 		ldr	r4, [r0, #2816]
 1790 0012 002C     		cmp	r4, #0
 1791 0014 16DB     		blt	.L249
 1792              	.L248:
 1793 0016 0024     		movs	r4, #0
 1794 0018 0129     		cmp	r1, #1
 1795 001a 1C61     		str	r4, [r3, #16]
 1796 001c 1C69     		ldr	r4, [r3, #16]
 1797 001e 44F40024 		orr	r4, r4, #524288
 1798 0022 1C61     		str	r4, [r3, #16]
 1799 0024 1C69     		ldr	r4, [r3, #16]
 1800 0026 44F01804 		orr	r4, r4, #24
 1801 002a 1C61     		str	r4, [r3, #16]
 1802 002c 1C69     		ldr	r4, [r3, #16]
 1803 002e 44F0C044 		orr	r4, r4, #1610612736
 1804 0032 1C61     		str	r4, [r3, #16]
 1805 0034 06D1     		bne	.L249
 1806 0036 5A61     		str	r2, [r3, #20]
 1807 0038 D0F8003B 		ldr	r3, [r0, #2816]
 1808 003c 43F08023 		orr	r3, r3, #-2147450880
 1809 0040 C0F8003B 		str	r3, [r0, #2816]
 1810              	.L249:
 1811 0044 0020     		movs	r0, #0
 1812 0046 30BD     		pop	{r4, r5, pc}
 1813              	.L252:
 1814              		.align	2
 1815              	.L251:
 1816 0048 0A30544F 		.word	1330917386
 1818              		.section	.text.USB_HostInit,"ax",%progbits
 1819              		.align	1
 1820              		.global	USB_HostInit
 1821              		.syntax unified
 1822              		.thumb
 1823              		.thumb_func
 1824              		.fpu fpv5-sp-d16
 1826              	USB_HostInit:
 1827              		@ args = 56, pretend = 16, frame = 0
 1828              		@ frame_needed = 0, uses_anonymous_args = 0
 1829 0000 84B0     		sub	sp, sp, #16
 1830 0002 70B5     		push	{r4, r5, r6, lr}
 1831 0004 0446     		mov	r4, r0
 1832 0006 05A8     		add	r0, sp, #20
 1833 0008 80E80E00 		stm	r0, {r1, r2, r3}
 1834 000c 0023     		movs	r3, #0
 1835 000e C4F8003E 		str	r3, [r4, #3584]
 1836 0012 A36B     		ldr	r3, [r4, #56]
 1837 0014 23F40013 		bic	r3, r3, #2097152
 1838 0018 A363     		str	r3, [r4, #56]
 1839 001a E36B     		ldr	r3, [r4, #60]
 1840 001c DA05     		lsls	r2, r3, #23
ARM GAS  /tmp/ccZB4POl.s 			page 32


 1841 001e 3AD5     		bpl	.L254
 1842 0020 079B     		ldr	r3, [sp, #28]
 1843 0022 012B     		cmp	r3, #1
 1844 0024 D4F80034 		ldr	r3, [r4, #1024]
 1845 0028 37D1     		bne	.L263
 1846 002a 43F00403 		orr	r3, r3, #4
 1847              	.L262:
 1848 002e C4F80034 		str	r3, [r4, #1024]
 1849 0032 1021     		movs	r1, #16
 1850 0034 2046     		mov	r0, r4
 1851 0036 FFF7FEFF 		bl	USB_FlushTxFifo
 1852 003a 0146     		mov	r1, r0
 1853 003c 2046     		mov	r0, r4
 1854 003e FFF7FEFF 		bl	USB_FlushRxFifo
 1855 0042 0843     		orrs	r0, r0, r1
 1856 0044 0023     		movs	r3, #0
 1857 0046 069E     		ldr	r6, [sp, #24]
 1858 0048 C0B2     		uxtb	r0, r0
 1859 004a 04F5A062 		add	r2, r4, #1280
 1860 004e 1D46     		mov	r5, r3
 1861 0050 4FF0FF31 		mov	r1, #-1
 1862 0054 0038     		subs	r0, r0, #0
 1863 0056 18BF     		it	ne
 1864 0058 0120     		movne	r0, #1
 1865              	.L257:
 1866 005a 9E42     		cmp	r6, r3
 1867 005c 20D1     		bne	.L258
 1868 005e A561     		str	r5, [r4, #24]
 1869 0060 6161     		str	r1, [r4, #20]
 1870 0062 E36B     		ldr	r3, [r4, #60]
 1871 0064 DB05     		lsls	r3, r3, #23
 1872 0066 20D5     		bpl	.L259
 1873 0068 4FF40073 		mov	r3, #512
 1874 006c 6362     		str	r3, [r4, #36]
 1875 006e 03F18073 		add	r3, r3, #16777216
 1876 0072 A362     		str	r3, [r4, #40]
 1877 0074 104B     		ldr	r3, .L265
 1878              	.L264:
 1879 0076 C4F80031 		str	r3, [r4, #256]
 1880 007a 089B     		ldr	r3, [sp, #32]
 1881 007c 1BB9     		cbnz	r3, .L261
 1882 007e A369     		ldr	r3, [r4, #24]
 1883 0080 43F01003 		orr	r3, r3, #16
 1884 0084 A361     		str	r3, [r4, #24]
 1885              	.L261:
 1886 0086 A269     		ldr	r2, [r4, #24]
 1887 0088 0C4B     		ldr	r3, .L265+4
 1888 008a 1343     		orrs	r3, r3, r2
 1889 008c A361     		str	r3, [r4, #24]
 1890 008e BDE87040 		pop	{r4, r5, r6, lr}
 1891 0092 04B0     		add	sp, sp, #16
 1892 0094 7047     		bx	lr
 1893              	.L254:
 1894 0096 D4F80034 		ldr	r3, [r4, #1024]
 1895              	.L263:
 1896 009a 23F00403 		bic	r3, r3, #4
 1897 009e C6E7     		b	.L262
ARM GAS  /tmp/ccZB4POl.s 			page 33


 1898              	.L258:
 1899 00a0 9160     		str	r1, [r2, #8]
 1900 00a2 0133     		adds	r3, r3, #1
 1901 00a4 D560     		str	r5, [r2, #12]
 1902 00a6 2032     		adds	r2, r2, #32
 1903 00a8 D7E7     		b	.L257
 1904              	.L259:
 1905 00aa 8023     		movs	r3, #128
 1906 00ac 6362     		str	r3, [r4, #36]
 1907 00ae 03F5C003 		add	r3, r3, #6291456
 1908 00b2 A362     		str	r3, [r4, #40]
 1909 00b4 024B     		ldr	r3, .L265+8
 1910 00b6 DEE7     		b	.L264
 1911              	.L266:
 1912              		.align	2
 1913              	.L265:
 1914 00b8 0003E000 		.word	14680832
 1915 00bc 080020A3 		.word	-1558183928
 1916 00c0 E0004000 		.word	4194528
 1918              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 1919              		.align	1
 1920              		.global	USB_InitFSLSPClkSel
 1921              		.syntax unified
 1922              		.thumb
 1923              		.thumb_func
 1924              		.fpu fpv5-sp-d16
 1926              	USB_InitFSLSPClkSel:
 1927              		@ args = 0, pretend = 0, frame = 0
 1928              		@ frame_needed = 0, uses_anonymous_args = 0
 1929 0000 D0F80034 		ldr	r3, [r0, #1024]
 1930 0004 0129     		cmp	r1, #1
 1931 0006 00F58062 		add	r2, r0, #1024
 1932 000a 23F00303 		bic	r3, r3, #3
 1933 000e 10B5     		push	{r4, lr}
 1934 0010 C0F80034 		str	r3, [r0, #1024]
 1935 0014 01F00303 		and	r3, r1, #3
 1936 0018 D0F80044 		ldr	r4, [r0, #1024]
 1937 001c 43EA0403 		orr	r3, r3, r4
 1938 0020 C0F80034 		str	r3, [r0, #1024]
 1939 0024 04D1     		bne	.L268
 1940 0026 4BF68033 		movw	r3, #48000
 1941              	.L270:
 1942 002a 5360     		str	r3, [r2, #4]
 1943              	.L269:
 1944 002c 0020     		movs	r0, #0
 1945 002e 10BD     		pop	{r4, pc}
 1946              	.L268:
 1947 0030 0229     		cmp	r1, #2
 1948 0032 FBD1     		bne	.L269
 1949 0034 41F27073 		movw	r3, #6000
 1950 0038 F7E7     		b	.L270
 1952              		.section	.text.USB_ResetPort,"ax",%progbits
 1953              		.align	1
 1954              		.global	USB_ResetPort
 1955              		.syntax unified
 1956              		.thumb
 1957              		.thumb_func
ARM GAS  /tmp/ccZB4POl.s 			page 34


 1958              		.fpu fpv5-sp-d16
 1960              	USB_ResetPort:
 1961              		@ args = 0, pretend = 0, frame = 8
 1962              		@ frame_needed = 0, uses_anonymous_args = 0
 1963 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 1964 0002 0025     		movs	r5, #0
 1965 0004 0446     		mov	r4, r0
 1966 0006 0195     		str	r5, [sp, #4]
 1967 0008 D0F84034 		ldr	r3, [r0, #1088]
 1968 000c 0193     		str	r3, [sp, #4]
 1969 000e 019B     		ldr	r3, [sp, #4]
 1970 0010 23F02E03 		bic	r3, r3, #46
 1971 0014 0193     		str	r3, [sp, #4]
 1972 0016 019B     		ldr	r3, [sp, #4]
 1973 0018 43F48073 		orr	r3, r3, #256
 1974 001c C0F84034 		str	r3, [r0, #1088]
 1975 0020 6420     		movs	r0, #100
 1976 0022 FFF7FEFF 		bl	HAL_Delay
 1977 0026 019B     		ldr	r3, [sp, #4]
 1978 0028 0A20     		movs	r0, #10
 1979 002a 23F48073 		bic	r3, r3, #256
 1980 002e C4F84034 		str	r3, [r4, #1088]
 1981 0032 FFF7FEFF 		bl	HAL_Delay
 1982 0036 2846     		mov	r0, r5
 1983 0038 03B0     		add	sp, sp, #12
 1984              		@ sp needed
 1985 003a 30BD     		pop	{r4, r5, pc}
 1987              		.section	.text.USB_DriveVbus,"ax",%progbits
 1988              		.align	1
 1989              		.global	USB_DriveVbus
 1990              		.syntax unified
 1991              		.thumb
 1992              		.thumb_func
 1993              		.fpu fpv5-sp-d16
 1995              	USB_DriveVbus:
 1996              		@ args = 0, pretend = 0, frame = 8
 1997              		@ frame_needed = 0, uses_anonymous_args = 0
 1998              		@ link register save eliminated.
 1999 0000 82B0     		sub	sp, sp, #8
 2000 0002 0023     		movs	r3, #0
 2001 0004 0193     		str	r3, [sp, #4]
 2002 0006 D0F84034 		ldr	r3, [r0, #1088]
 2003 000a 0193     		str	r3, [sp, #4]
 2004 000c 019B     		ldr	r3, [sp, #4]
 2005 000e 23F02E03 		bic	r3, r3, #46
 2006 0012 0193     		str	r3, [sp, #4]
 2007 0014 019B     		ldr	r3, [sp, #4]
 2008 0016 DA04     		lsls	r2, r3, #19
 2009 0018 06D4     		bmi	.L273
 2010 001a 0129     		cmp	r1, #1
 2011 001c 04D1     		bne	.L273
 2012 001e 019B     		ldr	r3, [sp, #4]
 2013 0020 43F48053 		orr	r3, r3, #4096
 2014 0024 C0F84034 		str	r3, [r0, #1088]
 2015              	.L273:
 2016 0028 019B     		ldr	r3, [sp, #4]
 2017 002a DB04     		lsls	r3, r3, #19
ARM GAS  /tmp/ccZB4POl.s 			page 35


 2018 002c 05D5     		bpl	.L274
 2019 002e 21B9     		cbnz	r1, .L274
 2020 0030 019B     		ldr	r3, [sp, #4]
 2021 0032 23F48053 		bic	r3, r3, #4096
 2022 0036 C0F84034 		str	r3, [r0, #1088]
 2023              	.L274:
 2024 003a 0020     		movs	r0, #0
 2025 003c 02B0     		add	sp, sp, #8
 2026              		@ sp needed
 2027 003e 7047     		bx	lr
 2029              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 2030              		.align	1
 2031              		.global	USB_GetHostSpeed
 2032              		.syntax unified
 2033              		.thumb
 2034              		.thumb_func
 2035              		.fpu fpv5-sp-d16
 2037              	USB_GetHostSpeed:
 2038              		@ args = 0, pretend = 0, frame = 8
 2039              		@ frame_needed = 0, uses_anonymous_args = 0
 2040              		@ link register save eliminated.
 2041 0000 82B0     		sub	sp, sp, #8
 2042 0002 0023     		movs	r3, #0
 2043 0004 0193     		str	r3, [sp, #4]
 2044 0006 D0F84034 		ldr	r3, [r0, #1088]
 2045 000a 0193     		str	r3, [sp, #4]
 2046 000c 0198     		ldr	r0, [sp, #4]
 2047 000e C0F34140 		ubfx	r0, r0, #17, #2
 2048 0012 02B0     		add	sp, sp, #8
 2049              		@ sp needed
 2050 0014 7047     		bx	lr
 2052              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 2053              		.align	1
 2054              		.global	USB_GetCurrentFrame
 2055              		.syntax unified
 2056              		.thumb
 2057              		.thumb_func
 2058              		.fpu fpv5-sp-d16
 2060              	USB_GetCurrentFrame:
 2061              		@ args = 0, pretend = 0, frame = 0
 2062              		@ frame_needed = 0, uses_anonymous_args = 0
 2063              		@ link register save eliminated.
 2064 0000 00F58060 		add	r0, r0, #1024
 2065 0004 8068     		ldr	r0, [r0, #8]
 2066 0006 80B2     		uxth	r0, r0
 2067 0008 7047     		bx	lr
 2069              		.section	.text.USB_HC_Init,"ax",%progbits
 2070              		.align	1
 2071              		.global	USB_HC_Init
 2072              		.syntax unified
 2073              		.thumb
 2074              		.thumb_func
 2075              		.fpu fpv5-sp-d16
 2077              	USB_HC_Init:
 2078              		@ args = 12, pretend = 0, frame = 0
 2079              		@ frame_needed = 0, uses_anonymous_args = 0
 2080 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  /tmp/ccZB4POl.s 			page 36


 2081 0004 00EB4117 		add	r7, r0, r1, lsl #5
 2082 0008 1C46     		mov	r4, r3
 2083 000a 9DF81C60 		ldrb	r6, [sp, #28]	@ zero_extendqisi2
 2084 000e 4FF0FF33 		mov	r3, #-1
 2085 0012 07F5A06C 		add	ip, r7, #1280
 2086 0016 4FFA82FE 		sxtb	lr, r2
 2087 001a CCF80830 		str	r3, [ip, #8]
 2088 001e 032E     		cmp	r6, #3
 2089 0020 7AD8     		bhi	.L292
 2090 0022 DFE806F0 		tbb	[pc, r6]
 2091              	.L283:
 2092 0026 02       		.byte	(.L284-.L283)/2
 2093 0027 6D       		.byte	(.L285-.L283)/2
 2094 0028 02       		.byte	(.L284-.L283)/2
 2095 0029 65       		.byte	(.L282-.L283)/2
 2096              		.p2align 1
 2097              	.L284:
 2098 002a 40F29D43 		movw	r3, #1181
 2099 002e BEF1000F 		cmp	lr, #0
 2100 0032 CCF80C30 		str	r3, [ip, #12]
 2101 0036 04DA     		bge	.L286
 2102              	.L298:
 2103 0038 DCF80C30 		ldr	r3, [ip, #12]
 2104 003c 43F48073 		orr	r3, r3, #256
 2105 0040 53E0     		b	.L296
 2106              	.L286:
 2107 0042 C36B     		ldr	r3, [r0, #60]
 2108 0044 DB05     		lsls	r3, r3, #23
 2109 0046 4CD4     		bmi	.L287
 2110              	.L297:
 2111 0048 0025     		movs	r5, #0
 2112              	.L281:
 2113 004a DCF80C30 		ldr	r3, [ip, #12]
 2114 004e BEF1000F 		cmp	lr, #0
 2115 0052 43F00203 		orr	r3, r3, #2
 2116 0056 CCF80C30 		str	r3, [ip, #12]
 2117 005a 01F00F03 		and	r3, r1, #15
 2118 005e 4FF00101 		mov	r1, #1
 2119 0062 D0F81884 		ldr	r8, [r0, #1048]
 2120 0066 01FA03F1 		lsl	r1, r1, r3
 2121 006a 41EA0801 		orr	r1, r1, r8
 2122 006e C0F81814 		str	r1, [r0, #1048]
 2123 0072 B8BF     		it	lt
 2124 0074 4FF40041 		movlt	r1, #32768
 2125 0078 8369     		ldr	r3, [r0, #24]
 2126 007a A8BF     		it	ge
 2127 007c 0021     		movge	r1, #0
 2128 007e 43F00073 		orr	r3, r3, #33554432
 2129 0082 8361     		str	r3, [r0, #24]
 2130 0084 FFF7FEFF 		bl	USB_GetHostSpeed
 2131 0088 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 2132 008c 022B     		cmp	r3, #2
 2133 008e 45D1     		bne	.L294
 2134 0090 0228     		cmp	r0, #2
 2135 0092 0CBF     		ite	eq
 2136 0094 0020     		moveq	r0, #0
 2137 0096 4FF40030 		movne	r0, #131072
ARM GAS  /tmp/ccZB4POl.s 			page 37


 2138              	.L290:
 2139 009a A305     		lsls	r3, r4, #22
 2140 009c BDF82040 		ldrh	r4, [sp, #32]
 2141 00a0 D202     		lsls	r2, r2, #11
 2142 00a2 03F0FE53 		and	r3, r3, #532676608
 2143 00a6 C4F30A04 		ubfx	r4, r4, #0, #11
 2144 00aa 02F4F042 		and	r2, r2, #30720
 2145 00ae 2343     		orrs	r3, r3, r4
 2146 00b0 1343     		orrs	r3, r3, r2
 2147 00b2 B204     		lsls	r2, r6, #18
 2148 00b4 06F0FD06 		and	r6, r6, #253
 2149 00b8 02F44022 		and	r2, r2, #786432
 2150 00bc 012E     		cmp	r6, #1
 2151 00be 43EA0203 		orr	r3, r3, r2
 2152 00c2 43EA0103 		orr	r3, r3, r1
 2153 00c6 43EA0003 		orr	r3, r3, r0
 2154 00ca C7F80035 		str	r3, [r7, #1280]
 2155 00ce 05D1     		bne	.L291
 2156 00d0 D7F80035 		ldr	r3, [r7, #1280]
 2157 00d4 43F00053 		orr	r3, r3, #536870912
 2158 00d8 C7F80035 		str	r3, [r7, #1280]
 2159              	.L291:
 2160 00dc 2846     		mov	r0, r5
 2161 00de BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2162              	.L287:
 2163 00e2 DCF80C30 		ldr	r3, [ip, #12]
 2164 00e6 43F06003 		orr	r3, r3, #96
 2165              	.L296:
 2166 00ea CCF80C30 		str	r3, [ip, #12]
 2167 00ee ABE7     		b	.L297
 2168              	.L282:
 2169 00f0 40F29D63 		movw	r3, #1693
 2170 00f4 BEF1000F 		cmp	lr, #0
 2171 00f8 CCF80C30 		str	r3, [ip, #12]
 2172 00fc A4DA     		bge	.L297
 2173 00fe 9BE7     		b	.L298
 2174              	.L285:
 2175 0100 40F22523 		movw	r3, #549
 2176 0104 BEF1000F 		cmp	lr, #0
 2177 0108 CCF80C30 		str	r3, [ip, #12]
 2178 010c 9CDA     		bge	.L297
 2179 010e DCF80C30 		ldr	r3, [ip, #12]
 2180 0112 43F4C073 		orr	r3, r3, #384
 2181 0116 E8E7     		b	.L296
 2182              	.L292:
 2183 0118 0125     		movs	r5, #1
 2184 011a 96E7     		b	.L281
 2185              	.L294:
 2186 011c 0020     		movs	r0, #0
 2187 011e BCE7     		b	.L290
 2189              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 2190              		.align	1
 2191              		.global	USB_HC_ReadInterrupt
 2192              		.syntax unified
 2193              		.thumb
 2194              		.thumb_func
 2195              		.fpu fpv5-sp-d16
ARM GAS  /tmp/ccZB4POl.s 			page 38


 2197              	USB_HC_ReadInterrupt:
 2198              		@ args = 0, pretend = 0, frame = 0
 2199              		@ frame_needed = 0, uses_anonymous_args = 0
 2200              		@ link register save eliminated.
 2201 0000 00F58060 		add	r0, r0, #1024
 2202 0004 4069     		ldr	r0, [r0, #20]
 2203 0006 80B2     		uxth	r0, r0
 2204 0008 7047     		bx	lr
 2206              		.section	.text.USB_HC_Halt,"ax",%progbits
 2207              		.align	1
 2208              		.global	USB_HC_Halt
 2209              		.syntax unified
 2210              		.thumb
 2211              		.thumb_func
 2212              		.fpu fpv5-sp-d16
 2214              	USB_HC_Halt:
 2215              		@ args = 0, pretend = 0, frame = 8
 2216              		@ frame_needed = 0, uses_anonymous_args = 0
 2217 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 2218 0002 0023     		movs	r3, #0
 2219 0004 00EB4111 		add	r1, r0, r1, lsl #5
 2220 0008 0193     		str	r3, [sp, #4]
 2221 000a 01F5A062 		add	r2, r1, #1280
 2222 000e D1F80035 		ldr	r3, [r1, #1280]
 2223 0012 D1F80045 		ldr	r4, [r1, #1280]
 2224 0016 8568     		ldr	r5, [r0, #8]
 2225 0018 9B0C     		lsrs	r3, r3, #18
 2226 001a AD06     		lsls	r5, r5, #26
 2227 001c 01D5     		bpl	.L301
 2228 001e 002C     		cmp	r4, #0
 2229 0020 25DA     		bge	.L302
 2230              	.L301:
 2231 0022 13F0010F 		tst	r3, #1
 2232 0026 D1F80035 		ldr	r3, [r1, #1280]
 2233 002a 43F08043 		orr	r3, r3, #1073741824
 2234 002e C1F80035 		str	r3, [r1, #1280]
 2235 0032 1FD1     		bne	.L303
 2236 0034 8368     		ldr	r3, [r0, #8]
 2237 0036 9B06     		lsls	r3, r3, #26
 2238 0038 19D4     		bmi	.L302
 2239 003a C36A     		ldr	r3, [r0, #44]
 2240 003c 13F47F0F 		tst	r3, #16711680
 2241 0040 D1F80035 		ldr	r3, [r1, #1280]
 2242 0044 32D1     		bne	.L307
 2243 0046 23F00043 		bic	r3, r3, #-2147483648
 2244 004a C1F80035 		str	r3, [r1, #1280]
 2245 004e D1F80035 		ldr	r3, [r1, #1280]
 2246 0052 43F00043 		orr	r3, r3, #-2147483648
 2247 0056 C1F80035 		str	r3, [r1, #1280]
 2248              	.L306:
 2249 005a 019B     		ldr	r3, [sp, #4]
 2250 005c 0133     		adds	r3, r3, #1
 2251 005e 0193     		str	r3, [sp, #4]
 2252 0060 019B     		ldr	r3, [sp, #4]
 2253 0062 B3F57A7F 		cmp	r3, #1000
 2254 0066 02D8     		bhi	.L302
 2255 0068 1368     		ldr	r3, [r2]
ARM GAS  /tmp/ccZB4POl.s 			page 39


 2256 006a 002B     		cmp	r3, #0
 2257 006c F5DB     		blt	.L306
 2258              	.L302:
 2259 006e 0020     		movs	r0, #0
 2260 0070 03B0     		add	sp, sp, #12
 2261              		@ sp needed
 2262 0072 30BD     		pop	{r4, r5, pc}
 2263              	.L303:
 2264 0074 D0F81034 		ldr	r3, [r0, #1040]
 2265 0078 13F47F0F 		tst	r3, #16711680
 2266 007c D1F80035 		ldr	r3, [r1, #1280]
 2267 0080 14D1     		bne	.L307
 2268 0082 23F00043 		bic	r3, r3, #-2147483648
 2269 0086 C1F80035 		str	r3, [r1, #1280]
 2270 008a D1F80035 		ldr	r3, [r1, #1280]
 2271 008e 43F00043 		orr	r3, r3, #-2147483648
 2272 0092 C1F80035 		str	r3, [r1, #1280]
 2273              	.L308:
 2274 0096 019B     		ldr	r3, [sp, #4]
 2275 0098 0133     		adds	r3, r3, #1
 2276 009a 0193     		str	r3, [sp, #4]
 2277 009c 019B     		ldr	r3, [sp, #4]
 2278 009e B3F57A7F 		cmp	r3, #1000
 2279 00a2 E4D8     		bhi	.L302
 2280 00a4 1368     		ldr	r3, [r2]
 2281 00a6 002B     		cmp	r3, #0
 2282 00a8 F5DB     		blt	.L308
 2283 00aa E0E7     		b	.L302
 2284              	.L307:
 2285 00ac 43F00043 		orr	r3, r3, #-2147483648
 2286 00b0 C1F80035 		str	r3, [r1, #1280]
 2287 00b4 DBE7     		b	.L302
 2289              		.section	.text.USB_DoPing,"ax",%progbits
 2290              		.align	1
 2291              		.global	USB_DoPing
 2292              		.syntax unified
 2293              		.thumb
 2294              		.thumb_func
 2295              		.fpu fpv5-sp-d16
 2297              	USB_DoPing:
 2298              		@ args = 0, pretend = 0, frame = 0
 2299              		@ frame_needed = 0, uses_anonymous_args = 0
 2300              		@ link register save eliminated.
 2301 0000 00EB4111 		add	r1, r0, r1, lsl #5
 2302 0004 064A     		ldr	r2, .L315
 2303 0006 0020     		movs	r0, #0
 2304 0008 C1F81025 		str	r2, [r1, #1296]
 2305 000c D1F80035 		ldr	r3, [r1, #1280]
 2306 0010 23F08043 		bic	r3, r3, #1073741824
 2307 0014 43F00043 		orr	r3, r3, #-2147483648
 2308 0018 C1F80035 		str	r3, [r1, #1280]
 2309 001c 7047     		bx	lr
 2310              	.L316:
 2311 001e 00BF     		.align	2
 2312              	.L315:
 2313 0020 00000880 		.word	-2146959360
 2315              		.section	.text.USB_HC_StartXfer,"ax",%progbits
ARM GAS  /tmp/ccZB4POl.s 			page 40


 2316              		.align	1
 2317              		.global	USB_HC_StartXfer
 2318              		.syntax unified
 2319              		.thumb
 2320              		.thumb_func
 2321              		.fpu fpv5-sp-d16
 2323              	USB_HC_StartXfer:
 2324              		@ args = 0, pretend = 0, frame = 8
 2325              		@ frame_needed = 0, uses_anonymous_args = 0
 2326 0000 2DE9FF41 		push	{r0, r1, r2, r3, r4, r5, r6, r7, r8, lr}
 2327 0004 C36B     		ldr	r3, [r0, #60]
 2328 0006 1546     		mov	r5, r2
 2329 0008 0446     		mov	r4, r0
 2330 000a 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 2331 000c DB05     		lsls	r3, r3, #23
 2332 000e 0FD5     		bpl	.L318
 2333 0010 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 2334 0012 6BB9     		cbnz	r3, .L318
 2335 0014 012D     		cmp	r5, #1
 2336 0016 68D1     		bne	.L319
 2337 0018 CB79     		ldrb	r3, [r1, #7]	@ zero_extendqisi2
 2338 001a 13F0FD0F 		tst	r3, #253
 2339 001e 07D1     		bne	.L318
 2340 0020 00EB4213 		add	r3, r0, r2, lsl #5
 2341 0024 D3F80C05 		ldr	r0, [r3, #1292]
 2342 0028 20F07000 		bic	r0, r0, #112
 2343 002c C3F80C05 		str	r0, [r3, #1292]
 2344              	.L318:
 2345 0030 4B69     		ldr	r3, [r1, #20]
 2346 0032 002B     		cmp	r3, #0
 2347 0034 65D0     		beq	.L330
 2348 0036 0E89     		ldrh	r6, [r1, #8]
 2349 0038 581E     		subs	r0, r3, #1
 2350 003a 3044     		add	r0, r0, r6
 2351 003c B0FBF6F0 		udiv	r0, r0, r6
 2352 0040 80B2     		uxth	r0, r0
 2353 0042 B0F5807F 		cmp	r0, #256
 2354 0046 28BF     		it	cs
 2355 0048 4FF48070 		movcs	r0, #256
 2356              	.L321:
 2357 004c CF78     		ldrb	r7, [r1, #3]	@ zero_extendqisi2
 2358 004e 002F     		cmp	r7, #0
 2359 0050 59D0     		beq	.L331
 2360 0052 B1F80880 		ldrh	r8, [r1, #8]
 2361 0056 00FB08F8 		mul	r8, r0, r8
 2362              	.L322:
 2363 005a 91F80AC0 		ldrb	ip, [r1, #10]	@ zero_extendqisi2
 2364 005e 04EB4216 		add	r6, r4, r2, lsl #5
 2365 0062 C1F81080 		str	r8, [r1, #16]
 2366 0066 C8F31208 		ubfx	r8, r8, #0, #19
 2367 006a 4FEA4C7C 		lsl	ip, ip, #29
 2368 006e 0CF0C04C 		and	ip, ip, #1610612736
 2369 0072 4CEAC040 		orr	r0, ip, r0, lsl #19
 2370 0076 40EA0800 		orr	r0, r0, r8
 2371 007a C6F81005 		str	r0, [r6, #1296]
 2372 007e 15B1     		cbz	r5, .L323
 2373 0080 C868     		ldr	r0, [r1, #12]
ARM GAS  /tmp/ccZB4POl.s 			page 41


 2374 0082 C6F81405 		str	r0, [r6, #1300]
 2375              	.L323:
 2376 0086 D4F80804 		ldr	r0, [r4, #1032]
 2377 008a 04F5806C 		add	ip, r4, #1024
 2378 008e D6F800E5 		ldr	lr, [r6, #1280]
 2379 0092 C043     		mvns	r0, r0
 2380 0094 2EF0005E 		bic	lr, lr, #536870912
 2381 0098 4007     		lsls	r0, r0, #29
 2382 009a C6F800E5 		str	lr, [r6, #1280]
 2383 009e 00F00050 		and	r0, r0, #536870912
 2384 00a2 D6F800E5 		ldr	lr, [r6, #1280]
 2385 00a6 40EA0E00 		orr	r0, r0, lr
 2386 00aa C6F80005 		str	r0, [r6, #1280]
 2387 00ae D6F80005 		ldr	r0, [r6, #1280]
 2388 00b2 0390     		str	r0, [sp, #12]
 2389 00b4 0398     		ldr	r0, [sp, #12]
 2390 00b6 20F08040 		bic	r0, r0, #1073741824
 2391 00ba 0390     		str	r0, [sp, #12]
 2392 00bc 0398     		ldr	r0, [sp, #12]
 2393 00be 27B3     		cbz	r7, .L324
 2394 00c0 40F40040 		orr	r0, r0, #32768
 2395              	.L341:
 2396 00c4 0390     		str	r0, [sp, #12]
 2397 00c6 0398     		ldr	r0, [sp, #12]
 2398 00c8 40F00040 		orr	r0, r0, #-2147483648
 2399 00cc 0390     		str	r0, [sp, #12]
 2400 00ce 0398     		ldr	r0, [sp, #12]
 2401 00d0 C6F80005 		str	r0, [r6, #1280]
 2402 00d4 57EA0500 		orrs	r0, r7, r5
 2403 00d8 0FD1     		bne	.L320
 2404 00da 73B1     		cbz	r3, .L320
 2405 00dc C879     		ldrb	r0, [r1, #7]	@ zero_extendqisi2
 2406 00de 0328     		cmp	r0, #3
 2407 00e0 21D8     		bhi	.L326
 2408 00e2 DFE800F0 		tbb	[pc, r0]
 2409              	.L328:
 2410 00e6 15       		.byte	(.L329-.L328)/2
 2411 00e7 28       		.byte	(.L327-.L328)/2
 2412 00e8 15       		.byte	(.L329-.L328)/2
 2413 00e9 28       		.byte	(.L327-.L328)/2
 2414              		.p2align 1
 2415              	.L319:
 2416 00ea 002D     		cmp	r5, #0
 2417 00ec A0D1     		bne	.L318
 2418 00ee 4B79     		ldrb	r3, [r1, #5]	@ zero_extendqisi2
 2419 00f0 012B     		cmp	r3, #1
 2420 00f2 9DD1     		bne	.L318
 2421 00f4 1146     		mov	r1, r2
 2422 00f6 FFF7FEFF 		bl	USB_DoPing
 2423              	.L320:
 2424 00fa 0020     		movs	r0, #0
 2425 00fc 04B0     		add	sp, sp, #16
 2426              		@ sp needed
 2427 00fe BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2428              	.L330:
 2429 0102 0120     		movs	r0, #1
 2430 0104 A2E7     		b	.L321
ARM GAS  /tmp/ccZB4POl.s 			page 42


 2431              	.L331:
 2432 0106 9846     		mov	r8, r3
 2433 0108 A7E7     		b	.L322
 2434              	.L324:
 2435 010a 20F40040 		bic	r0, r0, #32768
 2436 010e D9E7     		b	.L341
 2437              	.L329:
 2438 0110 E56A     		ldr	r5, [r4, #44]
 2439 0112 D81C     		adds	r0, r3, #3
 2440 0114 ADB2     		uxth	r5, r5
 2441 0116 C0F38F00 		ubfx	r0, r0, #2, #16
 2442 011a 8542     		cmp	r5, r0
 2443 011c 03D2     		bcs	.L326
 2444 011e A069     		ldr	r0, [r4, #24]
 2445 0120 40F02000 		orr	r0, r0, #32
 2446              	.L342:
 2447 0124 A061     		str	r0, [r4, #24]
 2448              	.L326:
 2449 0126 0020     		movs	r0, #0
 2450 0128 9BB2     		uxth	r3, r3
 2451 012a 0090     		str	r0, [sp]
 2452 012c 2046     		mov	r0, r4
 2453 012e C968     		ldr	r1, [r1, #12]
 2454 0130 FFF7FEFF 		bl	USB_WritePacket
 2455 0134 E1E7     		b	.L320
 2456              	.L327:
 2457 0136 DCF81050 		ldr	r5, [ip, #16]
 2458 013a D81C     		adds	r0, r3, #3
 2459 013c ADB2     		uxth	r5, r5
 2460 013e C0F38F00 		ubfx	r0, r0, #2, #16
 2461 0142 8542     		cmp	r5, r0
 2462 0144 EFD2     		bcs	.L326
 2463 0146 A069     		ldr	r0, [r4, #24]
 2464 0148 40F08060 		orr	r0, r0, #67108864
 2465 014c EAE7     		b	.L342
 2467              		.section	.text.USB_StopHost,"ax",%progbits
 2468              		.align	1
 2469              		.global	USB_StopHost
 2470              		.syntax unified
 2471              		.thumb
 2472              		.thumb_func
 2473              		.fpu fpv5-sp-d16
 2475              	USB_StopHost:
 2476              		@ args = 0, pretend = 0, frame = 8
 2477              		@ frame_needed = 0, uses_anonymous_args = 0
 2478 0000 0023     		movs	r3, #0
 2479 0002 37B5     		push	{r0, r1, r2, r4, r5, lr}
 2480 0004 0193     		str	r3, [sp, #4]
 2481 0006 0446     		mov	r4, r0
 2482 0008 8368     		ldr	r3, [r0, #8]
 2483 000a 1021     		movs	r1, #16
 2484 000c 04F5E065 		add	r5, r4, #1792
 2485 0010 23F00103 		bic	r3, r3, #1
 2486 0014 8360     		str	r3, [r0, #8]
 2487 0016 FFF7FEFF 		bl	USB_FlushTxFifo
 2488 001a 0146     		mov	r1, r0
 2489 001c 2046     		mov	r0, r4
ARM GAS  /tmp/ccZB4POl.s 			page 43


 2490 001e FFF7FEFF 		bl	USB_FlushRxFifo
 2491 0022 0843     		orrs	r0, r0, r1
 2492 0024 04F5A063 		add	r3, r4, #1280
 2493 0028 C0B2     		uxtb	r0, r0
 2494 002a 1946     		mov	r1, r3
 2495 002c 0038     		subs	r0, r0, #0
 2496 002e 18BF     		it	ne
 2497 0030 0120     		movne	r0, #1
 2498              	.L344:
 2499 0032 0A68     		ldr	r2, [r1]
 2500 0034 22F08022 		bic	r2, r2, #-2147450880
 2501 0038 42F08042 		orr	r2, r2, #1073741824
 2502 003c 41F8202B 		str	r2, [r1], #32
 2503 0040 A942     		cmp	r1, r5
 2504 0042 F6D1     		bne	.L344
 2505              	.L347:
 2506 0044 1A68     		ldr	r2, [r3]
 2507 0046 22F40042 		bic	r2, r2, #32768
 2508 004a 42F04042 		orr	r2, r2, #-1073741824
 2509 004e 1A60     		str	r2, [r3]
 2510              	.L346:
 2511 0050 019A     		ldr	r2, [sp, #4]
 2512 0052 0132     		adds	r2, r2, #1
 2513 0054 0192     		str	r2, [sp, #4]
 2514 0056 019A     		ldr	r2, [sp, #4]
 2515 0058 B2F57A7F 		cmp	r2, #1000
 2516 005c 02D8     		bhi	.L345
 2517 005e 1A68     		ldr	r2, [r3]
 2518 0060 002A     		cmp	r2, #0
 2519 0062 F5DB     		blt	.L346
 2520              	.L345:
 2521 0064 2033     		adds	r3, r3, #32
 2522 0066 AB42     		cmp	r3, r5
 2523 0068 ECD1     		bne	.L347
 2524 006a 4FF0FF33 		mov	r3, #-1
 2525 006e C4F81434 		str	r3, [r4, #1044]
 2526 0072 6361     		str	r3, [r4, #20]
 2527 0074 A368     		ldr	r3, [r4, #8]
 2528 0076 43F00103 		orr	r3, r3, #1
 2529 007a A360     		str	r3, [r4, #8]
 2530 007c 03B0     		add	sp, sp, #12
 2531              		@ sp needed
 2532 007e 30BD     		pop	{r4, r5, pc}
 2534              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 2535              		.align	1
 2536              		.global	USB_ActivateRemoteWakeup
 2537              		.syntax unified
 2538              		.thumb
 2539              		.thumb_func
 2540              		.fpu fpv5-sp-d16
 2542              	USB_ActivateRemoteWakeup:
 2543              		@ args = 0, pretend = 0, frame = 0
 2544              		@ frame_needed = 0, uses_anonymous_args = 0
 2545              		@ link register save eliminated.
 2546 0000 D0F80838 		ldr	r3, [r0, #2056]
 2547 0004 00F50060 		add	r0, r0, #2048
 2548 0008 DB07     		lsls	r3, r3, #31
ARM GAS  /tmp/ccZB4POl.s 			page 44


 2549 000a 03D5     		bpl	.L352
 2550 000c 4368     		ldr	r3, [r0, #4]
 2551 000e 43F00103 		orr	r3, r3, #1
 2552 0012 4360     		str	r3, [r0, #4]
 2553              	.L352:
 2554 0014 0020     		movs	r0, #0
 2555 0016 7047     		bx	lr
 2557              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 2558              		.align	1
 2559              		.global	USB_DeActivateRemoteWakeup
 2560              		.syntax unified
 2561              		.thumb
 2562              		.thumb_func
 2563              		.fpu fpv5-sp-d16
 2565              	USB_DeActivateRemoteWakeup:
 2566              		@ args = 0, pretend = 0, frame = 0
 2567              		@ frame_needed = 0, uses_anonymous_args = 0
 2568              		@ link register save eliminated.
 2569 0000 D0F80438 		ldr	r3, [r0, #2052]
 2570 0004 23F00103 		bic	r3, r3, #1
 2571 0008 C0F80438 		str	r3, [r0, #2052]
 2572 000c 0020     		movs	r0, #0
 2573 000e 7047     		bx	lr
 2575              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/ccZB4POl.s 			page 45


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f7xx_ll_usb.c
     /tmp/ccZB4POl.s:15     .text.USB_CoreReset:0000000000000000 $t
     /tmp/ccZB4POl.s:22     .text.USB_CoreReset:0000000000000000 USB_CoreReset
     /tmp/ccZB4POl.s:67     .text.USB_CoreReset:0000000000000048 $d
     /tmp/ccZB4POl.s:70     .text.USB_CoreInit:0000000000000000 $t
     /tmp/ccZB4POl.s:77     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/ccZB4POl.s:188    .text.USB_CoreInit:00000000000000f4 $d
     /tmp/ccZB4POl.s:192    .text.USB_SetTurnaroundTime:0000000000000000 $t
     /tmp/ccZB4POl.s:199    .text.USB_SetTurnaroundTime:0000000000000000 USB_SetTurnaroundTime
     /tmp/ccZB4POl.s:288    .text.USB_SetTurnaroundTime:00000000000000a4 $d
     /tmp/ccZB4POl.s:305    .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/ccZB4POl.s:312    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/ccZB4POl.s:323    .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/ccZB4POl.s:330    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/ccZB4POl.s:341    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/ccZB4POl.s:348    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/ccZB4POl.s:399    .text.USB_FlushTxFifo:0000000000000000 $t
     /tmp/ccZB4POl.s:406    .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
     /tmp/ccZB4POl.s:451    .text.USB_FlushTxFifo:0000000000000048 $d
     /tmp/ccZB4POl.s:454    .text.USB_FlushRxFifo:0000000000000000 $t
     /tmp/ccZB4POl.s:461    .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
     /tmp/ccZB4POl.s:505    .text.USB_FlushRxFifo:0000000000000044 $d
     /tmp/ccZB4POl.s:508    .text.USB_SetDevSpeed:0000000000000000 $t
     /tmp/ccZB4POl.s:515    .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
     /tmp/ccZB4POl.s:526    .text.USB_DevInit:0000000000000000 $t
     /tmp/ccZB4POl.s:533    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/ccZB4POl.s:700    .text.USB_DevInit:000000000000016c $d
     /tmp/ccZB4POl.s:703    .text.USB_GetDevSpeed:0000000000000000 $t
     /tmp/ccZB4POl.s:710    .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
     /tmp/ccZB4POl.s:725    .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/ccZB4POl.s:732    .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/ccZB4POl.s:782    .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccZB4POl.s:789    .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
     /tmp/ccZB4POl.s:841    .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/ccZB4POl.s:848    .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/ccZB4POl.s:911    .text.USB_DeactivateEndpoint:00000000000000a4 $d
     /tmp/ccZB4POl.s:915    .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccZB4POl.s:922    .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
     /tmp/ccZB4POl.s:973    .text.USB_EP0StartXfer:0000000000000000 $t
     /tmp/ccZB4POl.s:980    .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
     /tmp/ccZB4POl.s:1082   .text.USB_EP0StartXfer:00000000000000ec $d
     /tmp/ccZB4POl.s:1086   .text.USB_EPStopXfer:0000000000000000 $t
     /tmp/ccZB4POl.s:1093   .text.USB_EPStopXfer:0000000000000000 USB_EPStopXfer
     /tmp/ccZB4POl.s:1165   .text.USB_WritePacket:0000000000000000 $t
     /tmp/ccZB4POl.s:1172   .text.USB_WritePacket:0000000000000000 USB_WritePacket
     /tmp/ccZB4POl.s:1195   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/ccZB4POl.s:1202   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/ccZB4POl.s:1366   .text.USB_EPStartXfer:00000000000001c8 $d
     /tmp/ccZB4POl.s:1371   .text.USB_ReadPacket:0000000000000000 $t
     /tmp/ccZB4POl.s:1378   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
     /tmp/ccZB4POl.s:1413   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/ccZB4POl.s:1420   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/ccZB4POl.s:1458   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/ccZB4POl.s:1465   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/ccZB4POl.s:1500   .text.USB_StopDevice:0000000000000000 $t
     /tmp/ccZB4POl.s:1507   .text.USB_StopDevice:0000000000000000 USB_StopDevice
ARM GAS  /tmp/ccZB4POl.s 			page 46


     /tmp/ccZB4POl.s:1536   .text.USB_SetDevAddress:0000000000000000 $t
     /tmp/ccZB4POl.s:1543   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/ccZB4POl.s:1559   .text.USB_DevConnect:0000000000000000 $t
     /tmp/ccZB4POl.s:1566   .text.USB_DevConnect:0000000000000000 USB_DevConnect
     /tmp/ccZB4POl.s:1580   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/ccZB4POl.s:1587   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/ccZB4POl.s:1601   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/ccZB4POl.s:1608   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/ccZB4POl.s:1618   .text.USB_ReadChInterrupts:0000000000000000 $t
     /tmp/ccZB4POl.s:1625   .text.USB_ReadChInterrupts:0000000000000000 USB_ReadChInterrupts
     /tmp/ccZB4POl.s:1636   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
     /tmp/ccZB4POl.s:1643   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
     /tmp/ccZB4POl.s:1655   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
     /tmp/ccZB4POl.s:1662   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
     /tmp/ccZB4POl.s:1674   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
     /tmp/ccZB4POl.s:1681   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
     /tmp/ccZB4POl.s:1693   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
     /tmp/ccZB4POl.s:1700   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
     /tmp/ccZB4POl.s:1718   .text.USB_ClearInterrupts:0000000000000000 $t
     /tmp/ccZB4POl.s:1725   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
     /tmp/ccZB4POl.s:1735   .text.USB_GetMode:0000000000000000 $t
     /tmp/ccZB4POl.s:1742   .text.USB_GetMode:0000000000000000 USB_GetMode
     /tmp/ccZB4POl.s:1751   .text.USB_ActivateSetup:0000000000000000 $t
     /tmp/ccZB4POl.s:1758   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
     /tmp/ccZB4POl.s:1773   .text.USB_EP0_OutStart:0000000000000000 $t
     /tmp/ccZB4POl.s:1780   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
     /tmp/ccZB4POl.s:1816   .text.USB_EP0_OutStart:0000000000000048 $d
     /tmp/ccZB4POl.s:1819   .text.USB_HostInit:0000000000000000 $t
     /tmp/ccZB4POl.s:1826   .text.USB_HostInit:0000000000000000 USB_HostInit
     /tmp/ccZB4POl.s:1914   .text.USB_HostInit:00000000000000b8 $d
     /tmp/ccZB4POl.s:1919   .text.USB_InitFSLSPClkSel:0000000000000000 $t
     /tmp/ccZB4POl.s:1926   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
     /tmp/ccZB4POl.s:1953   .text.USB_ResetPort:0000000000000000 $t
     /tmp/ccZB4POl.s:1960   .text.USB_ResetPort:0000000000000000 USB_ResetPort
     /tmp/ccZB4POl.s:1988   .text.USB_DriveVbus:0000000000000000 $t
     /tmp/ccZB4POl.s:1995   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
     /tmp/ccZB4POl.s:2030   .text.USB_GetHostSpeed:0000000000000000 $t
     /tmp/ccZB4POl.s:2037   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
     /tmp/ccZB4POl.s:2053   .text.USB_GetCurrentFrame:0000000000000000 $t
     /tmp/ccZB4POl.s:2060   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
     /tmp/ccZB4POl.s:2070   .text.USB_HC_Init:0000000000000000 $t
     /tmp/ccZB4POl.s:2077   .text.USB_HC_Init:0000000000000000 USB_HC_Init
     /tmp/ccZB4POl.s:2092   .text.USB_HC_Init:0000000000000026 $d
     /tmp/ccZB4POl.s:2096   .text.USB_HC_Init:000000000000002a $t
     /tmp/ccZB4POl.s:2190   .text.USB_HC_ReadInterrupt:0000000000000000 $t
     /tmp/ccZB4POl.s:2197   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
     /tmp/ccZB4POl.s:2207   .text.USB_HC_Halt:0000000000000000 $t
     /tmp/ccZB4POl.s:2214   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
     /tmp/ccZB4POl.s:2290   .text.USB_DoPing:0000000000000000 $t
     /tmp/ccZB4POl.s:2297   .text.USB_DoPing:0000000000000000 USB_DoPing
     /tmp/ccZB4POl.s:2313   .text.USB_DoPing:0000000000000020 $d
     /tmp/ccZB4POl.s:2316   .text.USB_HC_StartXfer:0000000000000000 $t
     /tmp/ccZB4POl.s:2323   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
     /tmp/ccZB4POl.s:2410   .text.USB_HC_StartXfer:00000000000000e6 $d
     /tmp/ccZB4POl.s:2414   .text.USB_HC_StartXfer:00000000000000ea $t
     /tmp/ccZB4POl.s:2468   .text.USB_StopHost:0000000000000000 $t
     /tmp/ccZB4POl.s:2475   .text.USB_StopHost:0000000000000000 USB_StopHost
ARM GAS  /tmp/ccZB4POl.s 			page 47


     /tmp/ccZB4POl.s:2535   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccZB4POl.s:2542   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
     /tmp/ccZB4POl.s:2558   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccZB4POl.s:2565   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup

UNDEFINED SYMBOLS
HAL_Delay
